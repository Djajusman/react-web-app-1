{"version":3,"sources":["views/data_volunteer/data_volunteer.js"],"names":["volunteerFields","Volunteer","downloadExcel","fetch","method","headers","Headers","responseType","Authorization","localStorage","getItem","then","response","json","data","console","log","link","document","createElement","download","href","fileUrl","body","appendChild","click","removeChild","catch","error","alert","deleteUser","akunID","window","confirm","id","JSON","stringify","hasOwnProperty","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getListVolunteer","statusmsg","getPuskesmasList","listPuskesmas","items","map","item","key","label","puskesmas","setState","addUser","username","state","password","role","email","first_name","puskesmasID","birth_date","noHp","alamatDom","profesi","institusi","gender","volunteerLink","org_token","toggleStateAddVolunteer","handleInputChange","event","k","target","value","setStateAddVolunteer","stateAddVolunteer","page","listVolunteer","forEach","element","push","nama","profile","puskesmasMitra","bind","this","className","sm","style","backgroundColor","onClick","name","fields","itemsPerPage","activePage","tableFilter","sorter","pagination","scopedSlots","index","to","action","color","size","show","onClose","closeButton","htmlFor","type","placeholder","onChange","autoComplete","display","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/24.b8e7bfe0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  CBadge,\r\n  CCard,\r\n  CCardBody,\r\n  CRow,\r\n  CCol,\r\n  CButton,\r\n  CDataTable,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalFooter,\r\n  CModalTitle,\r\n  CModalBody,\r\n  CSelect,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getBadge = (status) => {\r\n  // switch (status) {\r\n  //   case 'Berhasil Dimonitor': return 'success'\r\n  //   case 'Sedang Dimonitor': return 'warning'\r\n  //   case 'Gagal Dimonitor': return 'danger'\r\n  //   default: return 'primary'\r\n  // }\r\n  if (status.includes(\"Dimonitor\")) {\r\n    return \"warning\";\r\n  } else if (status.includes(\"Selesai\")) {\r\n    return \"success\";\r\n  } else if (status.includes(\"Gagal\")) {\r\n    return \"danger\";\r\n  } else {\r\n    return \"secondary\";\r\n  }\r\n};\r\nconst volunteerFields = [\"nama\", \"puskesmasMitra\", \"action\"];\r\n\r\nexport default class Volunteer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      listVolunteer: [],\r\n      listPuskesmas: [],\r\n      page: 1,\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getListVolunteer();\r\n    this.getPuskesmasList();\r\n  }\r\n  downloadExcel = () => {\r\n    var url = `https://report.aktiv.co.id/api/report-tenaga-kesehatan`;\r\n\r\n    fetch(url, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/vnd.ms-excel;charset=UTF-8\",\r\n        responseType: \"blob\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"====== Get Download Response =======\");\r\n        console.log(data);\r\n        var link = document.createElement(\"a\");\r\n        link.download = \"Reportnya\";\r\n        link.href = data.fileUrl;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  deleteUser = (akunID) => {\r\n    var deleted = window.confirm(\"Apakah Anda Yakin Ingin Menghapus Data Ini?\");\r\n    if (deleted) {\r\n      var body = {\r\n        id: akunID,\r\n      };\r\n      fetch(\"https://auth.aktiv.co.id/api/auth/v1/user/delete\", {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(body),\r\n        headers: new Headers({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: localStorage.getItem(\"token\"),\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.hasOwnProperty(\"status\")) {\r\n            if (data.status === \"OK\") {\r\n              toast.success(\"Hapus Berhasil\", {\r\n                position: \"top-right\",\r\n                autoClose: 1000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n              });\r\n              // this.toggleStateAddVolunteer();\r\n              this.getListVolunteer();\r\n            } else {\r\n              toast.error(\"Hapus Gagal: \" + data.statusmsg, {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => console.error(error));\r\n    }\r\n  };\r\n  getPuskesmasList = () => {\r\n    fetch(`https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/list`, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        var listPuskesmas = data.data.items.map((item) => {\r\n          return {\r\n            ...item,\r\n            key: item.id,\r\n            label: item.puskesmas,\r\n          };\r\n        });\r\n        this.setState({\r\n          listPuskesmas: listPuskesmas,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  addUser = () => {\r\n    let body = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      role: \"volunteer\",\r\n      email: this.state.email,\r\n      first_name: this.state.first_name,\r\n      puskesmasID: this.state.puskesmasID,\r\n      birth_date: `${this.state.birth_date} 00:00:00`,\r\n      noHp: this.state.noHp,\r\n      alamatDom: this.state.alamatDom,\r\n      profesi: this.state.profesi,\r\n      institusi: this.state.institusi,\r\n      gender: this.state.gender,\r\n      volunteerLink: this.state.volunteerLink,\r\n      org_token: \"uWOZxPN6io8G4uoK6ZFsPzfJoOlgLpmI\",\r\n    };\r\n    console.log(body);\r\n    fetch(\"https://auth.aktiv.co.id/api/auth/v1/user/add\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.hasOwnProperty(\"status\")) {\r\n          if (data.status === \"OK\") {\r\n            toast.success(\"Tambah Berhasil\", {\r\n              position: \"top-right\",\r\n              autoClose: 1000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n            this.toggleStateAddVolunteer();\r\n            this.getListVolunteer();\r\n          } else {\r\n            toast.error(\"Tambah Gagal: \" + data.statusmsg, {\r\n              position: \"top-right\",\r\n              autoClose: 5000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n  toggleStateAddVolunteer = () => {\r\n    this.setStateAddVolunteer(!this.state.stateAddVolunteer);\r\n  };\r\n  setStateAddVolunteer(stateAddVolunteer) {\r\n    this.setState({\r\n      stateAddVolunteer: stateAddVolunteer,\r\n    });\r\n  }\r\n  getListVolunteer = () => {\r\n    fetch(\r\n      `https://auth.aktiv.co.id/api/auth/v1/user/list?page=${this.state.page}&role=volunteer`,\r\n      {\r\n        method: \"GET\",\r\n        headers: new Headers({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `${localStorage.getItem(\"token\")}`,\r\n        }),\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"List Volunteer =>\", data.data.items);\r\n        var listVolunteer = [];\r\n        data.data.items.forEach((element)=>{\r\n          listVolunteer.push({\r\n            id:element.id,\r\n            nama:element.profile.first_name,\r\n            puskesmasMitra:element.profile.puskesmas\r\n          })\r\n        })\r\n\r\n        this.setState({\r\n          listVolunteer:listVolunteer\r\n        })\r\n\r\n        // data.data.items.forEach((element) => {\r\n        //   fetch(\r\n        //     `https://api.aktiv.co.id/api/aktivengine/v1/patient/list?id=${element.id}`,\r\n        //     {\r\n        //       method: \"GET\",\r\n        //       headers: new Headers({\r\n        //         \"Content-Type\": \"application/json\",\r\n        //         Authorization: `${localStorage.getItem(\"token\")}`,\r\n        //       }),\r\n        //     }\r\n        //   )\r\n        //     .then((response2) => response2.json())\r\n        //     .then((data2) => {\r\n        //       var patientList = [];\r\n        //       data2.data.items.map((itemPasien) => {\r\n        //         itemPasien.members.map((item2) => {\r\n        //           patientList.push({\r\n        //             name: item2.fullName ? item2.fullName : \"\",\r\n        //           });\r\n        //         });\r\n        //       });\r\n        //       if (localStorage.getItem(\"role\") === \"admin\") {\r\n        //         listVolunteer.push({\r\n        //           ...element,\r\n        //           name: element.profile.first_name,\r\n        //           puskesmasMitra: element.profile.puskesmas,\r\n        //           pasien: patientList,\r\n        //         });\r\n        //       } else {\r\n        //         if (\r\n        //           element.profile.puskesmasID ===\r\n        //           localStorage.getItem(\"puskesmasId\")\r\n        //         ) {\r\n        //           listVolunteer.push({\r\n        //             ...element,\r\n        //             name: element.profile.first_name,\r\n        //             puskesmasMitra: element.profile.puskesmas,\r\n        //             pasien: patientList,\r\n        //           });\r\n        //         }\r\n        //       }\r\n        //       this.setState({\r\n        //         listVolunteer: listVolunteer,\r\n        //       });\r\n        //     })\r\n        //     .catch((error) => {\r\n        //       console.log(error);\r\n        //     });\r\n        // });\r\n        \r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CRow>\r\n          <CCol sm=\"3\">\r\n            {/* <CFormGroup>\r\n            <CLabel className=\"mt-1\" htmlFor=\"date-input\">Tanggal</CLabel>\r\n            <CInput type=\"date\" id=\"date-input\" name=\"date-input\" placeholder=\"date\" />\r\n          </CFormGroup> */}\r\n          </CCol>\r\n          <CCol className=\"d-flex flex-row-reverse\">\r\n            <CFormGroup>\r\n              <CButton\r\n                className=\"btn-outline-info mt-4  mr-2\"\r\n                style={{ backgroundColor: \"white\" }}\r\n                onClick={() => {\r\n                  this.downloadExcel();\r\n                }}\r\n              >\r\n                <CIcon name=\"cilDataTransferDown\" />\r\n                <span className=\"mfs-2\">Unduh Excel</span>\r\n              </CButton>\r\n              <CButton\r\n                className=\"btn-facebook btn-brand mt-4 mr-2\"\r\n                onClick={() => {\r\n                  this.toggleStateAddVolunteer();\r\n                }}\r\n              >\r\n                <span>Tambah Tenaga Kesehatan</span>\r\n              </CButton>\r\n            </CFormGroup>\r\n          </CCol>\r\n        </CRow>\r\n        <CCard>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardBody>\r\n                  <CDataTable\r\n                    items={this.state.listVolunteer}\r\n                    fields={volunteerFields}\r\n                    itemsPerPage={10}\r\n                    activePage={this.state.page}\r\n                    tableFilter\r\n                    sorter\r\n                    pagination\r\n                    scopedSlots={{\r\n                      nama: (item, index) => (\r\n                        <td>\r\n                          <Link\r\n                            to={`/data_volunteer/detail_volunteer/${item.id}`}\r\n                          >\r\n                            {item.nama}\r\n                          </Link>\r\n                        </td>\r\n                      ),                    \r\n                      // pasien: (item, index) => (\r\n                      //   <td>\r\n                      //     {item.pasien.length > 0 &&\r\n                      //       item.pasien.map((element) => {\r\n                      //         return <CRow>{element.name}</CRow>;\r\n                      //       })}\r\n                      //   </td>\r\n                      // ),\r\n                      action: (item, index) =>\r\n                        localStorage.getItem(\"role\") === \"admin\" ||\r\n                        localStorage.getItem(\"role\") === \"operator\" ? (\r\n                          <td>\r\n                            <CButton\r\n                              color=\"danger\"\r\n                              size=\"sm\"\r\n                              onClick={() => {\r\n                                this.deleteUser(item.id);\r\n                              }}\r\n                            >\r\n                              <CIcon name={\"cilTrash\"} />\r\n                            </CButton>\r\n                          </td>\r\n                        ) : (\r\n                          <td></td>\r\n                        ),\r\n                    }}\r\n                  />\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n        </CCard>\r\n        <CModal\r\n          show={this.state.stateAddVolunteer}\r\n          onClose={this.toggleStateAddVolunteer}\r\n          size=\"sm\"\r\n        >\r\n          <CModalHeader closeButton>\r\n            <CModalTitle>Tambah Tenaga Kesehatan</CModalTitle>\r\n          </CModalHeader>\r\n          <CModalBody>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"username\">Username</CLabel>\r\n                  <CInput\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    placeholder=\"Masukkan Username\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"email\">Email</CLabel>\r\n                  <CInput\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    placeholder=\"Masukkan Email\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"password\">Password</CLabel>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoComplete=\"username\"\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                  <input type=\"password\" style={{ display: \"none\" }} />\r\n                  <CInput\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Masukkan password\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"first_name\">Nama</CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"first_name\"\r\n                    placeholder=\"Masukkan Nama\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"birth_date\">Tanggal Lahir</CLabel>\r\n                  <CInput\r\n                    type=\"date\"\r\n                    id=\"birth_date\"\r\n                    placeholder=\"Masukkan Tanggal Lahir\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"noHp\">No Hp</CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"noHp\"\r\n                    placeholder=\"Masukkan No Hp\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"alamatDom\">Alamat Domisili</CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"alamatDom\"\r\n                    placeholder=\"Masukkan Alamat Domisili\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"profesi\">Profesi</CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"profesi\"\r\n                    placeholder=\"Masukkan Profesi\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"puskesmasID\">Puskesmas</CLabel>\r\n                  <CSelect id=\"puskesmasID\" onChange={this.handleInputChange}>\r\n                    <option value=\"\" key=\"\">\r\n                      -- Pilih Puskesmas --\r\n                    </option>\r\n                    {this.state.listPuskesmas.map((item) => {\r\n                      return (\r\n                        <option value={item.key} key={item.key}>\r\n                          {item.label}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </CSelect>\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"volunteerLink\">\r\n                    Direct Chat Link Tawkto\r\n                  </CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"volunteerLink\"\r\n                    placeholder=\"Masukkan Direct Chat Link Tawkto\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"institusi\">Institusi</CLabel>\r\n                  <CInput\r\n                    type=\"text\"\r\n                    id=\"institusi\"\r\n                    placeholder=\"Masukkan Institusi\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"gender\">Jenis Kelamin</CLabel>\r\n                  <CSelect\r\n                    id=\"gender\"\r\n                    onChange={this.handleInputChange}\r\n                    value={this.state.gender}\r\n                  >\r\n                    <option value=\"\" key=\"\">\r\n                      -- Pilih Jenis Kelamin --\r\n                    </option>\r\n                    <option value=\"L\" key=\"L\">\r\n                      Laki-Laki\r\n                    </option>\r\n                    <option value=\"P\" key=\"P\">\r\n                      Perempuan\r\n                    </option>\r\n                  </CSelect>\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n          </CModalBody>\r\n          <CModalFooter>\r\n            <CButton\r\n              className=\"btn-facebook btn-brand mt-4 mr-2\"\r\n              onClick={() => {\r\n                this.addUser();\r\n              }}\r\n            >\r\n              <span className=\"mfs-2\">Tambah</span>\r\n            </CButton>\r\n          </CModalFooter>\r\n        </CModal>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}