{"version":3,"sources":["views/pengaturan_umum/guidance.js"],"names":["guidanceFields","label","key","Guidance","guidancelist","page","fetch","method","headers","Headers","Authorization","localStorage","getItem","then","response","json","res","setState","guidance","data","items","curr_page","total_item","console","log","state","catch","error","total_page","this","item","window","confirm","body","id","JSON","stringify","hasOwnProperty","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getArticleList","statusmsg","alert","className","onClick","props","history","push","fields","tableFilter","itemsPerPage","pagination","scopedSlots","data-toggle","data-placement","title","color","shape","size","deleteGuidance","name","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"wPAmBMA,EAAiB,CACrB,CAAEC,MAAO,QAASC,IAAK,SACvB,CAAED,MAAO,YAAaC,IAAK,eAE3B,UAGmBC,E,kDAEnB,aAAe,IAAD,8BACZ,gBAYFC,aAAe,SAACC,GACdC,MAAM,yEAA2ED,EAAM,CACrFE,OAAQ,MACRC,QAAS,IAAIC,QAAQ,CACnB,eAAgB,mBAChBC,cAAeC,aAAaC,QAAQ,aAGrCC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,EAAKC,SAAS,CACZC,SAAUF,EAAIG,KAAKC,MACnBC,UAAWhB,EACXiB,WAAYN,EAAIG,KAAKG,aACpB,kBACDC,QAAQC,IAAI,EAAKC,MAAMP,gBAG1BQ,OAAM,SAACC,GAAD,OAAWJ,QAAQC,IAAIG,OA7BhC,EAAKF,MAAQ,CACXP,SAAU,GAEVI,WAAY,EACZD,UAAW,EACXO,WAAY,GAPF,E,qDAUd,WACEC,KAAKzB,aAAa,K,4BAsBpB,SAAe0B,GAAO,IAAD,OAInB,GAHmBC,OAAOC,QACxB,+CAEgB,CAChB,IAAIC,EAAO,CACTC,GAAIJ,EAAKI,IAEX5B,MAAM,qEAAsE,CAC1EC,OAAQ,SACR0B,KAAME,KAAKC,UAAUH,GACrBzB,QAAS,IAAIC,QAAQ,CACnB,eAAgB,mBAChBC,cAAc,GAAD,OAAKC,aAAaC,QAAQ,cAGxCC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACM,GACDA,EAAKkB,eAAe,YACF,OAAhBlB,EAAKmB,QACPC,IAAMC,QAAQ,iBAAkB,CAC9BC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEZ,EAAKC,kBAELV,IAAMZ,MAAM,gBAAkBR,EAAK+B,UAAW,CAC5CT,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,QAKjBtB,OAAM,SAACC,GACNwB,MAAMxB,S,oBAKd,WAAU,IAAD,OACP,OACE,sBAAKyB,UAAU,kBAAf,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMA,UAAU,0BAAhB,SACA,cAAC,IAAD,CAASA,UAAU,mCAAmCC,QAAS,WAC3D,EAAKC,MAAMC,QAAQC,KAAK,8CAD5B,SAGK,wDAGP,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEpC,MAAOS,KAAKJ,MAAMP,SAClBuC,OAAQzD,EACR0D,aAAW,EACXC,aAAc,EACdC,YAAU,EACVC,YAAa,CACX,OACE,SAAC/B,GAAD,OACE,6BACE,cAAC,IAAD,CACFsB,UAAU,YACRU,cAAY,UACZC,iBAAe,MACfC,MAAM,cACNC,MAAM,SACNC,MAAM,UACNC,KAAK,KACLd,QAAS,WACP,EAAKe,eAAetC,IATtB,SAYA,cAAC,IAAD,CAAOuC,KAAK,8BASvB,cAAC,IAAD,CACL5B,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjB2B,aAAa,EACb1B,cAAY,EACZ2B,KAAK,EACLC,kBAAgB,EAChB1B,WAAS,EACTD,cAAY,W,GA3IgB4B","file":"static/js/34.b6a41f81.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  CBadge,\r\n  CCard,\r\n  CCardBody,\r\n  CRow,\r\n  CCol,\r\n  CDataTable,\r\n  CButton,\r\n  // CButton,\r\n  // CFormGroup,\r\n  // CLabel,\r\n  // CInput\r\n} from '@coreui/react'\r\n// import CIcon from '@coreui/icons-react'\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nconst guidanceFields = [\r\n  { label: \"Judul\", key: 'judul' }, \r\n  { label: \"Deskripsi\", key: 'description' }, \r\n  // { label: \"Tanggal Dibuat\", key: 'createdDate' }\r\n  \"action\"\r\n]\r\n\r\nexport default class Guidance extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      guidance: [],\r\n\r\n      total_item: 0,\r\n      curr_page: 1,\r\n      total_page: 0,\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.guidancelist(1)\r\n  }\r\n  guidancelist = (page) => {\r\n    fetch(\"https://api.aktiv.co.id/api/aktivengine/v1/setting/guidance/list?page=\" + page, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((res) => {\r\n        this.setState({\r\n          guidance: res.data.items,\r\n          curr_page: page,\r\n          total_item: res.data.total_item,\r\n        }, () =>\r\n          console.log(this.state.guidance)\r\n        );\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  deleteGuidance(item) {\r\n    var confirmation = window.confirm(\r\n      \"Apakah anda yakin ingin menghapus data ini?\"\r\n    );\r\n    if (confirmation) {\r\n      let body = {\r\n        id: item.id,\r\n      };\r\n      fetch(`https://api.aktiv.co.id/api/aktivengine/v1/setting/guidance/delete`, {\r\n        method: \"DELETE\",\r\n        body: JSON.stringify(body),\r\n        headers: new Headers({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `${localStorage.getItem(\"token\")}`,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.hasOwnProperty(\"status\")) {\r\n            if (data.status === \"OK\") {\r\n              toast.success(\"Hapus Berhasil\", {\r\n                position: \"top-right\",\r\n                autoClose: 1000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n              });\r\n              this.getArticleList();\r\n            } else {\r\n              toast.error(\"Hapus Gagal: \" + data.statusmsg, {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CRow>\r\n          <CCol className=\"d-flex flex-row-reverse\">\r\n          <CButton className=\"btn-facebook btn-brand mb-4 mr-2\" onClick={()=>{\r\n              this.props.history.push('/pengaturan_umum/guidance/tambah_guidance');\r\n              \r\n            }}><span>Tambah Artikel</span></CButton>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow>\r\n          <CCol>\r\n            <CCard>\r\n              <CCardBody>\r\n                <CDataTable\r\n                  items={this.state.guidance}\r\n                  fields={guidanceFields}\r\n                  tableFilter\r\n                  itemsPerPage={5}\r\n                  pagination\r\n                  scopedSlots={{\r\n                    'action':\r\n                      (item) => (\r\n                        <td>\r\n                          <CButton\r\n                        className=\"mx-1 my-1\"\r\n                          data-toggle=\"tooltip\"\r\n                          data-placement=\"top\"\r\n                          title=\"Delete Data\"\r\n                          color=\"danger\"\r\n                          shape=\"rounded\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            this.deleteGuidance(item)\r\n                          }}\r\n                        >\r\n                          <CIcon name=\"cil-trash\" />                        \r\n                        </CButton>\r\n                        </td>\r\n                      )\r\n                  }}\r\n                />\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n        </CRow><ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={true}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}