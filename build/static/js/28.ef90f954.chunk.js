(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[28],{687:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return g}));var s=t(163),c=t(159),n=t(160),i=t(63),l=t(162),r=t(161),o=t(1),h=t(627),d=t(628),j=t(62),m=t(634),b=(t(633),t(632)),x=t.n(b),O=t(8),u={color:"green"},p=Object(O.jsx)("span",{style:{color:"red"},children:"*"}),g=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).handleInputChange=function(a){var t=a.target.id;e.setState(Object(s.a)({},t,a.target.value))},e.handleDateChange=function(a){e.setState({startDate:x()(a.start).format("YYYY-MM-DDT00:00:00.000Z"),endDate:x()(a.end).format("YYYY-MM-DDT23:59:59.000Z")})},e.medicalRecord=function(){fetch("https://api.aktiv.co.id/api/aktivengine/v2/medicalrecord/get",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))})}).then((function(e){return e.json()})).then((function(a){console.log("List Medical Record",a),e.setState({medicalRecordList:a.data.items,pageLoading:!1})})).catch((function(e){alert(e)}))},e.verifiedPatient=function(a){var t={akunID:a,isAktivUser:!0};fetch("https://api.aktiv.co.id/api/aktivengine/v1/patient/aktivuser/update",{method:"PUT",headers:new Headers({"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){console.log("Verified Patient Response =>",a),a.hasOwnProperty("status")&&("OK"===a.status?(m.b.success("Update Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.medicalRecord()):m.b.error("Update Gagal "+a.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){alert(e)}))},e.registerPatient=function(){var a,t,s,c,n,i,l,r,o,h,d,j={role:"patient",leaderName:e.state.leaderName,first_name:e.state.first_name,email:e.state.email,username:e.state.username,password:e.state.password,akunNoHp:e.state.mobilePhone,isAktivUsers:!1,address:{provinsiID:null!==(a=e.state.provinsiID)&&void 0!==a?a:"",provinsi:null!==(t=e.state.provinsi)&&void 0!==t?t:"",kotakabID:null!==(s=e.state.kotakabID)&&void 0!==s?s:"",kotaKab:null!==(c=e.state.kotaKab)&&void 0!==c?c:"",kecamatanID:null!==(n=e.state.kecamatanID)&&void 0!==n?n:"",kecamatan:null!==(i=e.state.kecamatan)&&void 0!==i?i:"",kelurahanID:null!==(l=e.state.kelurahanID)&&void 0!==l?l:"",kelurahan:null!==(r=e.state.kelurahan)&&void 0!==r?r:"",kodePos:null!==(o=e.state.kodePos)&&void 0!==o?o:"",alamatDomisili:null!==(h=e.state.alamatDomisili)&&void 0!==h?h:"",alamatIsolasiMandiri:null!==(d=e.state.alamatIsolasiMandiri)&&void 0!==d?d:""},members:[{fullName:e.state.first_name,nik:e.state.nik,birthDateStr:x()(e.state.birthDateStr).format("yyyy-MM-DD HH:mm:ss"),gender:e.state.gender,job:e.state.job,mobilePhone:e.state.mobilePhone,relationship:e.state.relationship,symptoms:[]}],volunteerID:"".concat(localStorage.getItem("userid")),volunteer:"",org_token:"uWOZxPN6io8G4uoK6ZFsPzfJoOlgLpmI"};console.log(j),fetch("https://auth.aktiv.co.id/api/auth/registernew",{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"uWOZxPN6io8G4uoK6ZFsPzfJoOlgLpmI"}),body:JSON.stringify(j)}).then((function(e){return e.json()})).then((function(a){console.log("Register Patient Response =>",a),a.hasOwnProperty("status")&&("OK"===a.status?(m.b.success("Register Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.medicalRecord(),e.toggleStateTambahPasien()):m.b.error("Register Gagal "+a.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){alert(e)}))},e.addPatient=function(){var a={akunNoHp:e.state.mobilePhone};fetch("https://api.aktiv.co.id/api/aktivengine/v1/patient/add",{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}),body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(a){console.log("Add Patient Response =>",a),a.hasOwnProperty("status")&&("OK"===a.status?(m.b.success("Update Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.toggleStateTambahPasien(),e.medicalRecord()):m.b.error("Update Gagal "+a.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){alert(e)}))},e.toggleStateTambahPasien=function(){e.setStateTambahPasien(!e.state.stateTambahPasien)},e.toggleStateFilter=function(){e.setStateFilter(!e.state.stateFilter)},e.state={medicalRecordList:[],page:1,totalPage:1,pageLoading:!0},e.handleInputChange=e.handleInputChange.bind(Object(i.a)(e)),e}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.medicalRecord()}},{key:"setStateTambahPasien",value:function(e){this.setState({stateTambahPasien:e})}},{key:"setStateFilter",value:function(e){this.setState({stateFilter:e})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)(h.f,{children:Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{children:Object(O.jsxs)(h.f,{children:[Object(O.jsx)(h.j,{children:Object(O.jsxs)(h.R,{children:[Object(O.jsx)(h.k,{children:Object(O.jsx)("strong",{children:"Medical Record"})}),Object(O.jsxs)(h.k,{children:["admin"!==localStorage.getItem("role")&&Object(O.jsx)(h.e,{className:"btn-facebook btn-brand mr-2 float-right",onClick:function(){e.toggleStateTambahPasien()},children:Object(O.jsx)("span",{children:"Tambah Pasien"})}),Object(O.jsxs)(h.e,{className:"btn-outline-info mr-2 float-right",style:{backgroundColor:"white"},onClick:function(){e.downloadExcel()},children:[Object(O.jsx)(d.a,{name:"cilDataTransferDown"}),Object(O.jsx)("span",{children:"Unduh Excel"})]})]})]})}),Object(O.jsx)(h.g,{children:Object(O.jsx)(h.n,{tableFilter:!0,sorter:!0,responsive:!0,loading:this.state.pageLoading,items:this.state.medicalRecordList,fields:["no","kode",{key:"name",label:"Nama",_style:{width:"10%"}},"username","usia","gejala","pemeriksaan","diagnosa","status","hariIsolasi","action"],itemsPerPage:100,activePage:this.state.page,pagination:!0,scopedSlots:{no:function(e,a){return Object(O.jsx)("td",{children:a+1})},kode:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(h.z,{src:0!=e.symptomLastUpdate.category?"".concat(3==e.symptomLastUpdate.category?"logo/merah.svg":2==e.symptomLastUpdate.category?"logo/kuning.svg":"logo/hijau.svg"):"logo/hijau.svg",height:25,className:"mr-2"})})},name:function(e){return localStorage.getItem("role"),Object(O.jsx)("td",{children:Object(O.jsx)("tr",{children:Object(O.jsx)(j.b,{to:"/medical_record/detail_pasien/".concat(e.akunID,"/").concat(e.memberID),children:e.fullName})})})},usia:function(e){return Object(O.jsx)("td",{children:e.age})},gejala:function(e,a){return e.symptomLastUpdate.symptoms?Object(O.jsxs)("td",{children:[Object(O.jsx)("tr",{children:e.symptomLastUpdate.symptoms.map((function(e){return Object(O.jsx)("p",{children:e})}))}),Object(O.jsx)("tr",{style:u,children:"Update Terakhir:"}),Object(O.jsx)("tr",{style:u,children:"0001-01-01T00:00:00Z"!=e.symptomLastUpdate.createdDate?x()(e.symptomLastUpdate.createdDate).format("dddd, DD MMMM yyyy"):"Belum ada update"})]}):Object(O.jsx)("td",{children:"Belum ada data gejala"})},pemeriksaan:function(e){return e.pemeriksaan?Object(O.jsxs)("td",{children:[Object(O.jsxs)(h.R,{children:["SpO2 : ",e.pemeriksaan.spo2]}),Object(O.jsxs)(h.R,{children:["Suhu : ",e.pemeriksaan.suhu]}),Object(O.jsxs)(h.R,{children:["TD : ",e.pemeriksaan.tekananDarah]}),Object(O.jsxs)(h.R,{children:["HR : ",e.pemeriksaan.nadi]}),Object(O.jsxs)(h.R,{children:["RR : ",e.pemeriksaan.lajuNafas]}),Object(O.jsx)(h.R,{style:u,children:"Update Terakhir:"}),Object(O.jsx)(h.R,{style:u,children:"0001-01-01T00:00:00Z"!=e.pemeriksaan.createdDate?x()(e.pemeriksaan.createdDate).format("dddd, DD MMMM yyyy"):"Belum ada update"})]}):Object(O.jsx)("td",{children:"Belum ada data Pemeriksaan"})},hariIsolasi:function(e){return Object(O.jsxs)("td",{children:["Hari ",Math.round(e.hariIsolasi)]})},status:function(e){return Object(O.jsx)("td",{children:e.status})},action:function(a){return"volunteer"===localStorage.getItem("role")?Object(O.jsx)("td",{children:""===a.volunteer?Object(O.jsx)(h.e,{color:"success",size:"sm",onClick:function(){e.verifiedPatient(a.akunID)},children:"Verifikasi"}):Object(O.jsx)(h.R,{children:a.volunteer})}):Object(O.jsx)("td",{})}}})})]})})})}),Object(O.jsxs)(h.L,{show:this.state.stateTambahPasien,onClose:this.toggleStateTambahPasien,size:"lg",children:[Object(O.jsx)(h.O,{closeButton:!0,children:Object(O.jsx)(h.P,{children:"Tambah Pasien"})}),Object(O.jsx)(h.M,{children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsx)(h.I,{htmlFor:"leaderName",children:"Nama Kepala Keluarga"}),Object(O.jsx)(h.A,{id:"leaderName",placeholder:"Masukkan Nama Kepala Keluarga",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"first_name",children:["Nama Lengkap ",p]}),Object(O.jsx)(h.A,{id:"first_name",placeholder:"Masukkan Nama Lengkap",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"email",children:["Email  ",p]}),Object(O.jsx)(h.A,{id:"email",placeholder:"Masukkan Email",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"username",children:["Username  ",p]}),Object(O.jsx)(h.A,{id:"username",type:"text",placeholder:"Masukkan Username",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"password",children:["Password  ",p]}),Object(O.jsx)("input",{type:"text",autoComplete:"username",style:{display:"none"}}),Object(O.jsx)("input",{type:"password",style:{display:"none"}}),Object(O.jsx)(h.A,{type:"password",id:"password",placeholder:"Masukkan password",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsx)(h.I,{htmlFor:"nik",children:"NIK"}),Object(O.jsx)(h.A,{id:"nik",type:"number",placeholder:"Masukkan NIK",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"mobilePhone",children:["No Hp  ",p]}),Object(O.jsx)(h.A,{id:"mobilePhone",placeholder:"Masukkan No. Hp Pasien",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"birthDateStr",children:["Tanggal Lahir  ",p]}),Object(O.jsx)(h.A,{id:"birthDateStr",type:"date",placeholder:"Masukkan Tanggal Lahir",onChange:this.handleInputChange})]})})}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{className:"my-1",children:Object(O.jsxs)(h.v,{children:[Object(O.jsxs)(h.I,{htmlFor:"gender",children:["Jenis Kelamin  ",p]}),Object(O.jsxs)(h.S,{id:"gender",onChange:this.handleInputChange,value:this.state.gender,children:[Object(O.jsx)("option",{value:"",children:"-- Pilih Jenis Kelamin --"},""),Object(O.jsx)("option",{value:"L",children:"Laki-Laki"},"L"),Object(O.jsx)("option",{value:"P",children:"Perempuan"},"P")]})]})})})]})}),Object(O.jsx)(h.N,{children:Object(O.jsx)(h.e,{className:"btn-facebook btn-brand mt-4 mr-2",onClick:function(){e.registerPatient()},children:Object(O.jsx)("span",{children:"+ Tambah Pasien"})})})]}),Object(O.jsxs)(h.L,{show:this.state.stateFilter,onClose:this.toggleStateFilter,size:"lg",children:[Object(O.jsx)(h.O,{closeButton:!0,children:Object(O.jsx)(h.P,{children:Object(O.jsx)("strong",{children:"Filter"})})}),Object(O.jsxs)(h.M,{children:[Object(O.jsxs)(h.R,{children:[Object(O.jsxs)(h.k,{md:"5",children:[Object(O.jsx)(h.I,{htmlFor:"date-input",children:Object(O.jsx)("strong",{children:"Tanggal"})}),Object(O.jsx)(h.A,{placeholder:"Tanggal Awal",type:"date"})]}),Object(O.jsxs)(h.k,{children:[Object(O.jsx)(h.I,{}),Object(O.jsx)("span",{className:"mt-4",children:Object(O.jsx)("span",{className:"mb-1",children:Object(O.jsx)("strong",{children:Object(O.jsx)("p",{className:"mt-3 text-xl-center",children:"-"})})})})]}),Object(O.jsxs)(h.k,{md:"5",children:[Object(O.jsx)(h.I,{}),Object(O.jsx)(h.A,{placeholder:"Tanggal Akhir",type:"date",className:"mt-2"})]})]}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{children:Object(O.jsx)(h.I,{className:"mt-2",children:Object(O.jsx)("strong",{children:"Kode"})})})}),Object(O.jsxs)(h.R,{children:[Object(O.jsxs)(h.v,{col:!0,variant:"checkbox",className:"ml-3 mt-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat",className:"my-2"}),Object(O.jsx)(h.e,{shape:"pill",color:"success",size:"m",className:"mx-3 mb-2",active:!0,children:"Normal"})]}),Object(O.jsxs)(h.v,{col:!0,variant:"checkbox",className:"ml-4 mt-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat",className:"my-2"}),Object(O.jsx)(h.e,{shape:"pill",color:"warning",size:"m",className:"mx-3 mb-2",active:!0,children:"Warning"})]}),Object(O.jsxs)(h.v,{col:!0,variant:"checkbox",className:"ml-4 mt-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat",className:"my-2"}),Object(O.jsx)(h.e,{shape:"pill",color:"danger",size:"m",className:"mx-3 mb-2",active:!0,children:"Abnormal"})]})]}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{children:Object(O.jsx)(h.I,{className:"mt-2",children:Object(O.jsx)("strong",{children:"Diagnosa"})})})}),Object(O.jsxs)(h.R,{children:[Object(O.jsxs)(h.k,{children:[Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Sehat"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Suspek"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Kontak erat"})]})]}),Object(O.jsxs)(h.k,{children:[Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Covid-19 terkonfirmasi ringan"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Covid-19 terkonfirmasi sedang"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Covid-19 terkonfirmasi berat"})]})]})]}),Object(O.jsx)(h.R,{children:Object(O.jsx)(h.k,{children:Object(O.jsx)(h.I,{className:"mt-2",children:Object(O.jsx)("strong",{children:"Status"})})})}),Object(O.jsxs)(h.R,{children:[Object(O.jsxs)(h.k,{children:[Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Isolasi Mandiri"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Isolasi Shelter"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Rujuk RS"})]})]}),Object(O.jsxs)(h.k,{children:[Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Selesai Isolasi"})]}),Object(O.jsxs)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox",children:[Object(O.jsx)(h.B,{id:"isiAlamat",name:"isiAlamat"}),Object(O.jsx)(h.I,{variant:"checkbox",className:"form-check-label",htmlFor:"demam",children:"Gagal Monitoring"})]}),Object(O.jsx)(h.v,{row:!0,variant:"checkbox",className:"my-3 ml-1 checkbox"})]})]})]}),Object(O.jsxs)(h.N,{children:[Object(O.jsx)(h.e,{className:"btn-light mr-1 float-right",children:Object(O.jsx)("span",{children:"Hapus Filter"})}),Object(O.jsx)(h.e,{className:"btn-facebook btn-brand mr-1 float-right",children:Object(O.jsx)("span",{children:"Terapkan"})})]})]}),Object(O.jsx)(m.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),t}(o.Component)}}]);
//# sourceMappingURL=28.ef90f954.chunk.js.map