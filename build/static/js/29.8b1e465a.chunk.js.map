{"version":3,"sources":["views/pages/login/ComponentLogin.js","views/pages/login/Login.js"],"names":["ComponentLogin","props","getDetailUser","token","userData","fetch","method","headers","Headers","Authorization","then","response","json","data","console","log","localStorage","setItem","profile","puskesmasID","first_name","id","role","window","location","reload","successCallback","catch","error","login","e","body","username","state","password","JSON","stringify","hasOwnProperty","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","statusmsg","preventDefault","handleInputChange","event","k","target","setState","value","onDismiss","bind","error_login","error_message","is_logged_in","alert_login","this","alert","evt","prevState","modal","style","minHeight","minWidth","backgroundImage","backgroundRepeat","backgroundSize","sm","className","src","height","xs","htmlFor","type","placeholder","autoComplete","onChange","color","block","onClick","cursor","assign","newestOnTop","rtl","pauseOnFocusLoss","Component","Login","toggleActiveMenu","menu","activeMenu","toggleMobileMenu","mobileMenu","handleLogin","handleLogout","sessionStorage","email","history","push","removeItem","parse","getItem","withRouter"],"mappings":"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","file":"static/js/29.8b1e465a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CFormGroup,\r\n  CLabel,\r\n  CCol,\r\n  CForm,\r\n  CInput,\r\n  CRow,\r\n  CImg,\r\n  CContainer,\r\n} from \"@coreui/react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class ComponentLogin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDismiss = this.onDismiss.bind(this);\r\n    this.state = {\r\n      error_login: false,\r\n      error_message: \"\",\r\n      is_logged_in: false,\r\n      alert_login: false,\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n  getDetailUser = (token, userData) => {\r\n    fetch(\"https://auth.aktiv.co.id/api/auth/v1/user/me\", {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: token,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        localStorage.setItem(\"puskesmasId\", data.profile.puskesmasID);\r\n        localStorage.setItem(\"fullName\", data.first_name);\r\n        localStorage.setItem(\"userid\", data.id);\r\n        if (userData.data.role !== \"patient\") {\r\n          window.location.reload(false);\r\n          this.props.successCallback(userData);\r\n        }\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  login = (e) => {\r\n    let body = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    };\r\n    fetch(\"https://auth.aktiv.co.id/api/auth/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"uWOZxPN6io8G4uoK6ZFsPzfJoOlgLpmI\",\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.hasOwnProperty(\"status\")) {\r\n          if (data.status === \"OK\") {\r\n            toast.success(\"Login Berhasil\", {\r\n              position: \"top-right\",\r\n              autoClose: 1000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n            this.getDetailUser(data.data.token, data);\r\n          } else {\r\n            toast.error(\"Login Gagal \" + data.statusmsg, {\r\n              position: \"top-right\",\r\n              autoClose: 5000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => console.error(error));\r\n\r\n    e.preventDefault();\r\n  };\r\n\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n\r\n  onDismiss() {\r\n    this.setState({\r\n      alert: false,\r\n    });\r\n  }\r\n\r\n  toggle(evt) {\r\n    if (evt) {\r\n      evt.preventDefault();\r\n    }\r\n    this.setState((prevState) => ({\r\n      modal: !prevState.modal,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const alert_login = this.state.alert_login;\r\n    return (\r\n      <CContainer\r\n        style={{\r\n          minHeight: \"100%\",\r\n          minWidth: \"100%\",\r\n          position: \"fixed\",\r\n          backgroundImage: \"url(img/background_login.svg)\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundSize: \"cover\",\r\n        }}\r\n      >\r\n        <CRow>\r\n          <CCol sm=\"5\"></CCol>\r\n          <CCol>\r\n            <CForm>\r\n              <div className=\"login-input mt-1\">\r\n                <h1>Sign In</h1>\r\n                <CImg src=\"logo/line_sign.svg\" className=\"mb-3\" height={4} />\r\n                <p className=\"text-muted\">\r\n                  To get in touch, please sign in with your email\r\n                </p>\r\n              </div>\r\n              <CRow className=\"login-input-2 mt-2\">\r\n                <CCol xs=\"8\">\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Email</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      placeholder=\"Username\"\r\n                      autoComplete=\"username\"\r\n                      id=\"username\"\r\n                      onChange={this.handleInputChange}\r\n                    />\r\n                  </CFormGroup>\r\n                </CCol>\r\n              </CRow>\r\n              <CRow className=\"login-input-2\">\r\n                <CCol xs=\"8\">\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Password</CLabel>\r\n                    <CInput\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      autoComplete=\"current-password\"\r\n                      id=\"password\"\r\n                      onChange={this.handleInputChange}\r\n                    />\r\n                  </CFormGroup>\r\n                </CCol>\r\n              </CRow>\r\n              <CRow className=\"login-input-2\">\r\n                <CCol xs=\"8\">\r\n                  <CButton\r\n                    color=\"info\"\r\n                    className=\"mt-3\"\r\n                    block\r\n                    onClick={this.login.bind(this)}\r\n                  >\r\n                    Masuk\r\n                  </CButton>\r\n                </CCol>\r\n              </CRow>\r\n              <CRow className=\"login-input-3 mt-4\">\r\n                <CCol sm=\"1\" xs=\"1\">\r\n                  <CImg src=\"img/logo_login.svg\" height={100} />\r\n                </CCol>\r\n                <CCol sm=\"1\" xs=\"1\" className=\"ml-5\">\r\n                  <CImg src=\"logo/line_logo.svg\" height={120} />\r\n                </CCol>\r\n                <CCol sm=\"5\" xs=\"5\">\r\n                  <p>\r\n                    Isolasi tetap terpantau dengan aman meskipun di rumah saja.\r\n                    Unduh aplikasi AKTIV di Play Store dan nikmati layanan kami\r\n                    dari pemantauan gejala harian, konsultasi gratis dengan\r\n                    tenaga kesehatan, Serta panduan dan informasi lengkap\r\n                    mengenai berbagai informasi kesehatan, terutama seputar\r\n                    COVID-19, isolasi mandiri dan vaksinasi.\r\n                  </p>\r\n                </CCol>\r\n              </CRow>\r\n              <div className=\"container\">\r\n                <CRow className=\"login-input-4\">\r\n                  <CCol sm=\"2\" xs=\"2\">\r\n                    <CImg\r\n                      src=\"logo/google_play.svg\"\r\n                      height={50}\r\n                      style={{ cursor: \"pointer\" }}\r\n                    />\r\n                  </CCol>\r\n                  <CCol sm=\"2\" xs=\"2\" className=\"mt-3\">\r\n                    <p>Join with us</p>\r\n                  </CCol>\r\n                  <CCol sm=\"2\" xs=\"1\" className=\"mt-3\">\r\n                    <CImg\r\n                      style={{ cursor: \"pointer\" }}\r\n                      src=\"logo/youtube.svg\"\r\n                      height={20}\r\n                      onClick={() => {\r\n                        window.location.assign(\r\n                          \" https://www.youtube.com/watch?v=6dA4RwHjmmE\"\r\n                        );\r\n                      }}\r\n                    />\r\n                  </CCol>\r\n                  <CCol sm=\"2\" xs=\"1\" className=\"mt-3 mr-2\">\r\n                    <CImg\r\n                      style={{ cursor: \"pointer\" }}\r\n                      src=\"logo/instagram.svg\"\r\n                      height={20}\r\n                      onClick={() => {\r\n                        window.location.assign(\r\n                          \"https://www.instagram.com/aktiv_id/\"\r\n                        );\r\n                      }}\r\n                    />\r\n                  </CCol>\r\n                  <CCol sm=\"2\" xs=\"1\" className=\"mt-3 mr-2\">\r\n                    <CImg\r\n                      style={{ cursor: \"pointer\" }}\r\n                      src=\"logo/linkedin.png\"\r\n                      height={20}\r\n                      onClick={() => {\r\n                        window.location.assign(\r\n                          \"https://www.linkedin.com/company/aktiv-apps/\"\r\n                        );\r\n                      }}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n              </div>\r\n            </CForm>\r\n          </CCol>\r\n        </CRow>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </CContainer>\r\n      // <div\r\n      //   style={{\r\n      //     backgroundImage: \"url(img/background_login.svg)\",\r\n      //     backgroundRepeat: \"no-repeat\",\r\n      //     backgroundSize: \"cover\",\r\n      //   }}\r\n      // >\r\n      //   <div className=\"row\">\r\n      //     <div className=\"col\"></div>\r\n      //     <div className=\"col\">\r\n      //       <div>\r\n      //         <CCardBody>\r\n      //           <CForm>\r\n      //             <div className=\"login-input mt-1\">\r\n      //               <h1>Sign In</h1>\r\n      //               <CImg\r\n      //                 src=\"logo/line_sign.svg\"\r\n      //                 className=\"mb-3\"\r\n      //                 height={4}\r\n      //               />\r\n      //               <p className=\"text-muted\">\r\n      //                 To get in touch, please sign in with your email\r\n      //               </p>\r\n      //             </div>\r\n      //             <CRow className=\"login-input-2 mt-2\">\r\n      //               <CCol xs=\"8\">\r\n      //                 <CFormGroup>\r\n      //                   <CLabel htmlFor=\"company\">Email</CLabel>\r\n      //                   {/* <CInput id=\"company\" placeholder=\"\" /> */}\r\n      //                   <CInput\r\n      //                     type=\"text\"\r\n      //                     placeholder=\"Username\"\r\n      //                     autoComplete=\"username\"\r\n      //                     id=\"username\"\r\n      //                     onChange={this.handleInputChange}\r\n      //                   />\r\n      //                 </CFormGroup>\r\n      //               </CCol>\r\n      //             </CRow>\r\n      //             <CRow className=\"login-input-2\">\r\n      //               <CCol xs=\"8\">\r\n      //                 <CFormGroup>\r\n      //                   <CLabel htmlFor=\"company\">Password</CLabel>\r\n      //                   <CInput\r\n      //                     type=\"password\"\r\n      //                     placeholder=\"Password\"\r\n      //                     autoComplete=\"current-password\"\r\n      //                     id=\"password\"\r\n      //                     onChange={this.handleInputChange}\r\n      //                   />\r\n      //                 </CFormGroup>\r\n      //               </CCol>\r\n      //             </CRow>\r\n      //             <CRow className=\"login-input-2\">\r\n      //               <CCol xs=\"8\">\r\n      //                 <CButton\r\n      //                   color=\"info\"\r\n      //                   className=\"mt-3\"\r\n      //                   block\r\n      //                   onClick={this.login.bind(this)}\r\n      //                 >\r\n      //                   Masuk\r\n      //                 </CButton>\r\n      //               </CCol>\r\n      //             </CRow>\r\n      //             <CRow className=\"login-input-3 mt-4\">\r\n      //               <CCol xs=\"1\">\r\n      //                 <CImg src=\"img/logo_login.svg\" height={100} />\r\n      //               </CCol>\r\n      //               <CCol xs=\"1\" className=\"ml-5\">\r\n      //                 <CImg src=\"logo/line_logo.svg\" height={120} />\r\n      //               </CCol>\r\n      //               <CCol xs=\"5\">\r\n      //                 <p>\r\n      //                   Isolasi tetap terpantau dengan aman meskipun di rumah\r\n      //                   saja. Unduh aplikasi AKTIV di Play Store dan nikmati\r\n      //                   layanan kami dari pemantauan gejala harian, konsultasi\r\n      //                   gratis dengan tenaga kesehatan, Serta panduan dan\r\n      //                   informasi lengkap mengenai berbagai informasi kesehatan,\r\n      //                   terutama seputar COVID-19, isolasi mandiri dan\r\n      //                   vaksinasi.\r\n      //                 </p>\r\n      //               </CCol>\r\n      //             </CRow>\r\n      //             <div className=\"container\">\r\n      //               <CRow className=\"login-input-4\">\r\n      //                 <CCol xs=\"2\">\r\n      //                   <CImg src=\"logo/google_play.svg\" height={50} />\r\n      //                 </CCol>\r\n      //                 <CCol xs=\"2\" className=\"mt-3\">\r\n      //                   <p>Join with us</p>\r\n      //                 </CCol>\r\n      //                 <CCol xs=\"1\" className=\"mt-3\">\r\n      //                   <CImg src=\"logo/youtube.svg\" height={20} />\r\n      //                 </CCol>\r\n      //                 <CCol xs=\"1\" className=\"mt-3 mr-2\">\r\n      //                   <CImg src=\"logo/instagram.svg\" height={20} />\r\n      //                 </CCol>\r\n      //               </CRow>\r\n      //             </div>\r\n      //           </CForm>\r\n      //         </CCardBody>\r\n      //       </div>\r\n      //     </div>\r\n      //   </div>\r\n      //   <ToastContainer\r\n      //     position=\"top-right\"\r\n      //     autoClose={5000}\r\n      //     hideProgressBar={false}\r\n      //     newestOnTop={false}\r\n      //     closeOnClick\r\n      //     rtl={false}\r\n      //     pauseOnFocusLoss\r\n      //     draggable\r\n      //     pauseOnHover\r\n      //   />\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ComponentLogin from \"./ComponentLogin\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass Login extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.object.isRequired,\r\n    location: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n  };\r\n  constructor() {\r\n    super();\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n  }\r\n  handleLogin(data) {\r\n    localStorage.setItem(\"token\", data.data.token);\r\n    sessionStorage.setItem(\"token\", data.data.token);\r\n    localStorage.setItem(\"role\", data.data.role);\r\n    localStorage.setItem(\"username\", data.data.username);\r\n    localStorage.setItem(\"email\", data.data.email);\r\n    this.props.history.push(\"/\");\r\n    \r\n  }\r\n\r\n  handleLogout() {\r\n    localStorage.removeItem(\"token\");\r\n    sessionStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userdata\");\r\n    localStorage.removeItem(\"role\");\r\n\r\n    this.setState({});\r\n  }\r\n\r\n  toggleActiveMenu = (menu) => {\r\n    this.setState({\r\n      activeMenu: menu,\r\n    });\r\n\r\n  };\r\n\r\n  toggleMobileMenu = () => {\r\n    this.setState((prevState) => ({\r\n      mobileMenu: !prevState.mobileMenu,\r\n    }));\r\n  };\r\n\r\n  componentDidMount() {\r\n    // console.log(process.env.config.publicPath);\r\n    var userData = JSON.parse(localStorage.getItem(\"userdata\"));\r\n    if (userData !== null) {\r\n      // var tokenData = jwtDecode(userData.token);\r\n      // var currentTime = Math.round((new Date()).getTime() / 1000);\r\n      // if(currentTime > tokenData.exp){\r\n      //     localStorage.removeItem('token');\r\n      //     localStorage.removeItem('userdata');\r\n      //     this.setState({\r\n      //         token_expired: true\r\n      //     });\r\n      // }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <ComponentLogin successCallback={this.handleLogin} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Login);\r\n"],"sourceRoot":""}