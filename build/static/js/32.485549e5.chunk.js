(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[32],{710:function(e,s,t){"use strict";t.r(s),t.d(s,"default",(function(){return p}));var a=t(163),n=t(159),o=t(160),r=t(63),c=t(162),i=t(161),l=t(1),d=t(627),h=t(634),j=(t(633),t(8)),p=function(e){Object(c.a)(t,e);var s=Object(i.a)(t);function t(){var e;return Object(n.a)(this,t),(e=s.call(this)).handleInputChange=function(s){var t=s.target.id;e.setState(Object(a.a)({},t,s.target.value))},e.toggleModalForm=function(){e.setStateModal(!e.state.stateModal)},e.getDetailAccount=function(){fetch("https://auth.aktiv.co.id/api/auth/v1/user/me",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))})}).then((function(e){return e.json()})).then((function(s){console.log("===== Response Detail ======",s),e.setState({first_name:s.first_name,email:s.email,username:s.username,role:s.role})})).catch((function(e){alert(e)}))},e.changePassword=function(){if(void 0==e.state.confirmpassword||void 0==e.state.newpassword||void 0==e.state.password)h.b.warning("Harap Isi Semua Data Terlebih Dahulu",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else if(e.state.confirmpassword===e.state.newpassword){var s={password:e.state.password,newpassword:e.state.newpassword};fetch("https://auth.aktiv.co.id/api/auth/v1/user/password",{method:"PUT",body:JSON.stringify(s),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(s){console.log("Ganti Password Response"),console.log(s),s.hasOwnProperty("status")&&("OK"===s.status?(h.b.success("Ganti Password Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.setState({confirmpassword:"",newpassword:"",password:""}),e.toggleModalForm()):h.b.error("Ganti Password Gagal "+s.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){return console.error(e)}))}else h.b.error("Password Tidak Sesuai",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},e.state={page:1},e.handleInputChange=e.handleInputChange.bind(Object(r.a)(e)),e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getDetailAccount()}},{key:"setStateModal",value:function(e){this.setState({stateModal:e})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)(d.f,{children:[Object(j.jsx)(d.j,{children:Object(j.jsx)("span",{children:Object(j.jsx)("strong",{children:"Profile"})})}),Object(j.jsxs)(d.g,{children:[Object(j.jsxs)(d.R,{className:"mb-2",children:[Object(j.jsx)(d.k,{sm:"3",children:"Nama Lengkap"}),Object(j.jsxs)(d.k,{children:[": ",this.state.first_name]})]}),Object(j.jsxs)(d.R,{className:"my-2",children:[Object(j.jsx)(d.k,{sm:"3",children:"Alamat Email"}),Object(j.jsxs)(d.k,{children:[": ",this.state.email]})]}),Object(j.jsxs)(d.R,{className:"my-2",children:[Object(j.jsx)(d.k,{sm:"3",children:"username"}),Object(j.jsxs)(d.k,{children:[": ",this.state.username]})]}),Object(j.jsxs)(d.R,{className:"my-2",children:[Object(j.jsx)(d.k,{sm:"3",children:"Role"}),Object(j.jsxs)(d.k,{children:[": ",this.state.role]})]}),Object(j.jsx)(d.R,{className:"mt-2",children:Object(j.jsx)(d.k,{children:Object(j.jsx)(d.e,{color:"info",onClick:this.toggleModalForm,children:"Ganti Password"})})})]})]}),Object(j.jsxs)(d.L,{show:this.state.stateModal,onClose:this.toggleModalForm,size:"sm",children:[Object(j.jsx)(d.O,{closeButton:!0,children:Object(j.jsx)(d.P,{children:"Ganti Password"})}),Object(j.jsxs)(d.M,{children:[Object(j.jsx)(d.R,{children:Object(j.jsx)(d.k,{className:"my-1",children:Object(j.jsxs)(d.v,{children:[Object(j.jsx)(d.I,{htmlFor:"password",children:"Password Lama"}),Object(j.jsx)(d.A,{id:"password",type:"password",placeholder:"Masukkan Password Lama",onChange:this.handleInputChange})]})})}),Object(j.jsx)(d.R,{children:Object(j.jsx)(d.k,{className:"my-1",children:Object(j.jsxs)(d.v,{children:[Object(j.jsx)(d.I,{htmlFor:"newpassword",children:"Password Baru"}),Object(j.jsx)(d.A,{id:"newpassword",type:"password",placeholder:"Masukkan Password Baru",onChange:this.handleInputChange})]})})}),Object(j.jsx)(d.R,{children:Object(j.jsx)(d.k,{className:"my-1",children:Object(j.jsxs)(d.v,{children:[Object(j.jsx)(d.I,{htmlFor:"confirmpassword",children:"Konfirmasi Password"}),Object(j.jsx)(d.A,{id:"confirmpassword",type:"password",placeholder:"Konfirmasi Password Baru",onChange:this.handleInputChange})]})})})]}),Object(j.jsx)(d.N,{children:Object(j.jsx)(d.e,{className:"btn-facebook btn-brand mt-4 mr-2",onClick:function(){e.changePassword()},children:Object(j.jsx)("span",{children:"Simpan"})})})]}),Object(j.jsx)(h.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),t}(l.Component)}}]);
//# sourceMappingURL=32.485549e5.chunk.js.map