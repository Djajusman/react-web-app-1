(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[29],{885:function(e,t,s){"use strict";s.r(t);var n=s(159),a=s(160),o=s(63),i=s(162),r=s(161),c=s(1),l=s(163),u=s(627),h=s(634),d=(s(633),s(8)),g=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).getDetailUser=function(e,t){fetch("https://auth.aktiv.co.id/api/auth/v1/user/me",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("puskesmasId",e.profile.puskesmasID),localStorage.setItem("fullName",e.first_name),localStorage.setItem("userid",e.id),"patient"!==t.data.role&&(window.location.reload(!1),a.props.successCallback(t))})).catch((function(e){return console.error(e)}))},a.login=function(e){var t={username:a.state.username,password:a.state.password};fetch("https://auth.aktiv.co.id/api/auth/login",{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json",Authorization:"uWOZxPN6io8G4uoK6ZFsPzfJoOlgLpmI"})}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("status")&&("OK"===e.status?(h.b.success("Login Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.getDetailUser(e.data.token,e)):h.b.error("Login Gagal "+e.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){return console.error(e)})),e.preventDefault()},a.handleInputChange=function(e){var t=e.target.id;a.setState(Object(l.a)({},t,e.target.value))},a.onDismiss=a.onDismiss.bind(Object(o.a)(a)),a.state={error_login:!1,error_message:"",is_logged_in:!1,alert_login:!1},a.handleInputChange=a.handleInputChange.bind(Object(o.a)(a)),a}return Object(a.a)(s,[{key:"onDismiss",value:function(){this.setState({alert:!1})}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{modal:!e.modal}}))}},{key:"render",value:function(){this.state.alert_login;return Object(d.jsxs)(u.l,{style:{minHeight:"100%",minWidth:"100%",position:"fixed",backgroundImage:"url(img/background_login.svg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[Object(d.jsxs)(u.R,{children:[Object(d.jsx)(u.k,{sm:"5"}),Object(d.jsx)(u.k,{children:Object(d.jsxs)(u.u,{children:[Object(d.jsxs)("div",{className:"login-input mt-1",children:[Object(d.jsx)("h1",{children:"Sign In"}),Object(d.jsx)(u.z,{src:"logo/line_sign.svg",className:"mb-3",height:4}),Object(d.jsx)("p",{className:"text-muted",children:"To get in touch, please sign in with your email"})]}),Object(d.jsx)(u.R,{className:"login-input-2 mt-2",children:Object(d.jsx)(u.k,{xs:"8",children:Object(d.jsxs)(u.v,{children:[Object(d.jsx)(u.I,{htmlFor:"company",children:"Email"}),Object(d.jsx)(u.A,{type:"text",placeholder:"Username",autoComplete:"username",id:"username",onChange:this.handleInputChange})]})})}),Object(d.jsx)(u.R,{className:"login-input-2",children:Object(d.jsx)(u.k,{xs:"8",children:Object(d.jsxs)(u.v,{children:[Object(d.jsx)(u.I,{htmlFor:"company",children:"Password"}),Object(d.jsx)(u.A,{type:"password",placeholder:"Password",autoComplete:"current-password",id:"password",onChange:this.handleInputChange})]})})}),Object(d.jsx)(u.R,{className:"login-input-2",children:Object(d.jsx)(u.k,{xs:"8",children:Object(d.jsx)(u.e,{color:"info",className:"mt-3",block:!0,onClick:this.login.bind(this),children:"Masuk"})})}),Object(d.jsxs)(u.R,{className:"login-input-3 mt-4",children:[Object(d.jsx)(u.k,{sm:"1",xs:"1",children:Object(d.jsx)(u.z,{src:"img/logo_login.svg",height:100})}),Object(d.jsx)(u.k,{sm:"1",xs:"1",className:"ml-5",children:Object(d.jsx)(u.z,{src:"logo/line_logo.svg",height:120})}),Object(d.jsx)(u.k,{sm:"5",xs:"5",children:Object(d.jsx)("p",{children:"Isolasi tetap terpantau dengan aman meskipun di rumah saja. Unduh aplikasi AKTIV di Play Store dan nikmati layanan kami dari pemantauan gejala harian, konsultasi gratis dengan tenaga kesehatan, Serta panduan dan informasi lengkap mengenai berbagai informasi kesehatan, terutama seputar COVID-19, isolasi mandiri dan vaksinasi."})})]}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)(u.R,{className:"login-input-4",children:[Object(d.jsx)(u.k,{sm:"2",xs:"2",children:Object(d.jsx)(u.z,{src:"logo/google_play.svg",height:50,style:{cursor:"pointer"}})}),Object(d.jsx)(u.k,{sm:"2",xs:"2",className:"mt-3",children:Object(d.jsx)("p",{children:"Join with us"})}),Object(d.jsx)(u.k,{sm:"2",xs:"1",className:"mt-3",children:Object(d.jsx)(u.z,{style:{cursor:"pointer"},src:"logo/youtube.svg",height:20,onClick:function(){window.location.assign(" https://www.youtube.com/watch?v=6dA4RwHjmmE")}})}),Object(d.jsx)(u.k,{sm:"2",xs:"1",className:"mt-3 mr-2",children:Object(d.jsx)(u.z,{style:{cursor:"pointer"},src:"logo/instagram.svg",height:20,onClick:function(){window.location.assign("https://www.instagram.com/aktiv_id/")}})}),Object(d.jsx)(u.k,{sm:"2",xs:"1",className:"mt-3 mr-2",children:Object(d.jsx)(u.z,{style:{cursor:"pointer"},src:"logo/linkedin.png",height:20,onClick:function(){window.location.assign("https://www.linkedin.com/company/aktiv-apps/")}})})]})})]})})]}),Object(d.jsx)(h.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),s}(c.Component),m=s(20),j=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){var e;return Object(n.a)(this,s),(e=t.call(this)).toggleActiveMenu=function(t){e.setState({activeMenu:t})},e.toggleMobileMenu=function(){e.setState((function(e){return{mobileMenu:!e.mobileMenu}}))},e.handleLogin=e.handleLogin.bind(Object(o.a)(e)),e.handleLogout=e.handleLogout.bind(Object(o.a)(e)),e}return Object(a.a)(s,[{key:"handleLogin",value:function(e){localStorage.setItem("token",e.data.token),sessionStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.role),localStorage.setItem("username",e.data.username),localStorage.setItem("email",e.data.email),this.props.history.push("/")}},{key:"handleLogout",value:function(){localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userdata"),localStorage.removeItem("role"),this.setState({})}},{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("userdata"))}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)(g,{successCallback:this.handleLogin})})}}]),s}(c.Component);t.default=Object(m.i)(j)}}]);
//# sourceMappingURL=29.8b1e465a.chunk.js.map