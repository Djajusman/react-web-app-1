(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[36],{709:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var o=a(163),n=a(159),r=a(160),s=a(162),i=a(161),c=a(1),l=(a(659),a(662)),d=a(755),h=(a(756),a(627)),u=a(634),g=(a(633),a(758)),b=(a(757),a(8)),j={border:"1px solid black",height:"100%",color:"black",padding:20},p=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).onEditorStateChange=function(t){e.setState({editorState:t}),console.log(t)},e.handleInputChange=function(t){var a=t.target.id;e.setState(Object(o.a)({},a,t.target.value))},e.handleAddartikel=function(){var t=Object(l.convertToRaw)(e.state.editorState.getCurrentContent());t.blocks.forEach((function(e){"".concat(e.text," ")}));var a={judul:e.state.title,description:Object(g.b)(e.state.editorState.getCurrentContent())};console.log(a),fetch("https://api.aktiv.co.id/api/aktivengine/v1/setting/guidance/add",{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){console.log(t),"OK"==t.status?(u.b.success("Tambah Artikel Berhasil",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.props.history.goBack()):u.b.error("Tambah Artikel Gagal "+t.statusmsg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){u.b.error("Tambah Artikel Gagal: "+e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log(e)}))},e.kategorilist=function(t){fetch("https://api.aktiv.co.id/api/aktivengine/v1/article/category/list",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){var a=[];t.data.items.forEach((function(e){e.subCategory.forEach((function(t){a.push({name:t,id:e.id})}))})),e.setState({listkategori:a}),console.log(a)})).catch((function(e){return console.log(e)}))},e.onSelect=function(t,a){e.setState({subCategory:t})},e.onRemove=function(t,a){e.setState({subCategory:t})},e.state={editorState:l.EditorState.createEmpty(),header:"",error_login:!1,error_message:"",is_logged_in:!1,alert_login:!1,title:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.kategorilist()}},{key:"convertToBase64",value:function(e){var t=this,a=new FileReader;a.onload=function(e){t.setState({imageartikel:e.target.result})},a.readAsDataURL(e)}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)(h.f,{children:[Object(b.jsx)(h.R,{children:Object(b.jsx)(h.k,{children:Object(b.jsx)(h.f,{children:Object(b.jsxs)(h.g,{children:[Object(b.jsxs)(h.v,{children:[Object(b.jsx)(h.I,{htmlFor:"company",children:"Judul"}),Object(b.jsx)(h.A,{id:"title",placeholder:"",onChange:this.handleInputChange.bind(this)})]}),Object(b.jsxs)(h.v,{children:[Object(b.jsx)(h.I,{htmlFor:"street",children:"Text Editor"}),Object(b.jsx)("div",{style:j,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(d.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange})})})})})]})]})})})}),Object(b.jsx)(h.R,{children:Object(b.jsx)(h.k,{className:"d-flex flex-row-reverse",children:Object(b.jsx)(h.e,{className:"btn-facebook btn-brand mr-3 mb-3",onClick:function(){e.handleAddartikel()},children:Object(b.jsx)("span",{className:"mfs-2",children:"Tayang"})})})})]}),Object(b.jsx)(u.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),a}(c.Component)}}]);
//# sourceMappingURL=36.3185c9e2.chunk.js.map