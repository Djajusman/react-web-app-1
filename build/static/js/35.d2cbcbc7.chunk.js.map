{"version":3,"sources":["views/pengaturan_umum/indikator_gejala.js"],"names":["IndikatorGejala","indikatorlist","fetch","method","headers","Headers","localStorage","getItem","then","response","json","data","items","length","setState","boolindikator","indikator","forEach","element","id","judul","description_hijau","description","description_kuning","description_merah","catch","error","console","log","handleInputChange","event","k","target","value","state","error_login","error_message","is_logged_in","alert_login","this","statusupdate","methodUpdate","props","history","preventDefault","body","tampunghijau","logo","tampungkuning","tampungmerah","push","JSON","stringify","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","src","height","type","placeholder","onChange","bind","onClick","handleUpdateIndikator","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/35.d2cbcbc7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  CCard,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CCardBody,\r\n  CButton,\r\n  CImg,\r\n  CInput\r\n} from '@coreui/react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nexport default class IndikatorGejala extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      // listindikator: [],\r\n      // indikator:[],\r\n      id:\"\",\r\n      boolindikator: false,\r\n      error_login: false,\r\n      error_message: \"\",\r\n      is_logged_in: false,\r\n      alert_login: false,\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.indikatorlist()\r\n  }\r\n  indikatorlist = () => {\r\n    fetch(\"https://api.aktiv.co.id/api/aktivengine/v1/setting/indikator/list\", {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        'Authorization': localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if(data.data.items.length > 0){\r\n          this.setState({boolindikator:true})\r\n          data.data.items.indikator.forEach(element => {\r\n            this.setState({\r\n              id:element.id\r\n            })\r\n            if(element.judul=='Hijau'){\r\n              this.setState({\r\n                description_hijau:element.description\r\n              })\r\n            }\r\n            if(element.judul=='Kuning'){\r\n              this.setState({\r\n                description_kuning:element.description\r\n              })\r\n            }\r\n            if(element.judul=='Merah'){\r\n              this.setState({\r\n                description_merah:element.description\r\n              })\r\n            }\r\n            \r\n          });\r\n        }\r\n          // this.setState({listindikator: listindikator });\r\n          // console.log(indikator)\r\n      }).catch(error => console.log(error));\r\n  }\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n  handleUpdateIndikator(event) {\r\n\r\n    const { history } = this.props;\r\n    event.preventDefault()\r\n\r\n    var statusupdate;\r\n    var methodUpdate;\r\n    var tampunghijau = {\r\n      judul: 'Hijau',\r\n      description: this.state.description_hijau,\r\n      logo:'',\r\n    }\r\n    var tampungkuning = {\r\n      judul: 'Kuning',\r\n      description: this.state.description_kuning,\r\n      logo:'',\r\n    }\r\n    var tampungmerah = {\r\n      judul: 'Merah',\r\n      description: this.state.description_merah,\r\n      logo:'',\r\n    }\r\n    var indikator=[]\r\n    indikator.push(tampunghijau,tampungkuning,tampungmerah)\r\n    \r\n    var body;\r\n    if(this.state.boolindikator){\r\n      body={\r\n        id:this.state.id,\r\n        indikator:indikator\r\n      }\r\n      statusupdate='update'\r\n      methodUpdate='PUT'\r\n    }\r\n    else{\r\n      body={\r\n        indikator:indikator\r\n      }\r\n      statusupdate='add'\r\n      methodUpdate='POST'\r\n    }\r\n\r\n    fetch(`https://api.aktiv.co.id/api/aktivengine/v1/setting/indikator/${statusupdate}`, {\r\n      method: methodUpdate,\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': localStorage.getItem(\"token\")\r\n      })\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n\r\n        if (data.status == \"OK\") {\r\n          toast.success(\"Tambah Indikator Berhasil\", {\r\n            position: \"top-right\",\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n          this.indikatorlist()\r\n        }\r\n      }).catch(error => console.log(error))\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CCard className=\"px-3 py-3\">\r\n        <CRow>\r\n          <CCol>\r\n            <CCard>\r\n              <CCardHeader>\r\n                <CImg\r\n                  src=\"logo/hijau.svg\"\r\n                  height={25}\r\n                  className=\"mr-2\"\r\n                />\r\n                <strong>Hijau</strong>\r\n              </CCardHeader>\r\n              <CCardBody>\r\n                <CInput\r\n                  type=\"text\"\r\n                  value={this.state.description_hijau}\r\n                  id=\"description_hijau\"\r\n                  placeholder=\"Kondisi anda saat ini tidak memiliki gejala yang berbahaya atau Anda mengalami perbaikan gejala\"\r\n                  onChange={this.handleInputChange.bind(this)}\r\n                // autoComplete=\"username\"\r\n                // id=\"username\"\r\n                />\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n          <CCol>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow>\r\n          <CCol>\r\n            <CCard>\r\n              <CCardHeader>\r\n                <CImg\r\n                  src=\"logo/kuning.svg\"\r\n                  height={25}\r\n                  className=\"mr-2\"\r\n                />\r\n                <strong>Kuning</strong>\r\n              </CCardHeader>\r\n              <CCardBody>\r\n              <CInput\r\n                  type=\"text\"\r\n                  value={this.state.description_kuning}\r\n                  id=\"description_kuning\"\r\n                  placeholder=\"Kondisi anda saat ini memiliki gejala baru atau gejala yang Anda rasakan tidak membaik\"\r\n                  onChange={this.handleInputChange.bind(this)}\r\n                // autoComplete=\"username\"\r\n                // id=\"username\"\r\n                // onChange={this.handleInputChange}\r\n                />\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n          <CCol>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow>\r\n          <CCol>\r\n            <CCard>\r\n              <CCardHeader>\r\n                <CImg\r\n                  src=\"logo/merah.svg\"\r\n                  height={25}\r\n                  className=\"mr-2\"\r\n                />\r\n                <strong> Merah</strong>\r\n              </CCardHeader>\r\n              <CCardBody>\r\n              <CInput\r\n                  type=\"text\"\r\n                  value={this.state.description_merah}\r\n                  id=\"description_merah\"\r\n                  placeholder=\"Kondisi anda saat ini harus segera mendapatkan penanganan khusus, silakan segera hubungi kami.\"\r\n                  onChange={this.handleInputChange.bind(this)}\r\n                // autoComplete=\"username\"\r\n                // id=\"username\"\r\n                // onChange={this.handleInputChange}\r\n                />\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n          <CCol>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow>\r\n          <CCol className=\"d-flex flex-row-reverse\">\r\n            <CButton className=\"btn-facebook btn-brand mr-3 mb-3\" onClick={this.handleUpdateIndikator.bind(this)}><span className=\"mfs-2\">Simpan</span></CButton>\r\n          </CCol>\r\n        </CRow>\r\n      </CCard>\r\n      <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}"],"sourceRoot":""}