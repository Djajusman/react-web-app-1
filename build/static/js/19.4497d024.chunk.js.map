{"version":3,"sources":["../node_modules/moment/locale/id.js","views/users_management/all_user.jsx"],"names":["moment","defineLocale","months","split","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","meridiemParse","meridiemHour","hour","meridiem","hours","minutes","isLower","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","M","MM","y","yy","week","dow","doy","factory","require","UserManagementAll","handleInputChange","event","k","target","id","setState","value","deleteUser","body","fetch","method","headers","Headers","Authorization","localStorage","getItem","JSON","stringify","then","response","json","data","console","log","hasOwnProperty","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getDataUsers","error","statusmsg","catch","alert","state","userList","tableList","allPatient","page","addEmail","totalPage","startDate","endDate","headerSymptom","symptomLabel","demam","bind","this","items","map","item","fullName","profile","first_name","puskesmas","noHp","total_page","className","fields","key","label","itemsPerPage","activePage","tableFilter","sorter","pagination","scopedSlots","username","to","action","color","size","onClick","window","confirm","name","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/19.4497d024.chunk.js","sourcesContent":["//! moment.js locale configuration\n//! locale : Indonesian [id]\n//! author : Mohammad Satrio Utomo : https://github.com/tyok\n//! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var id = moment.defineLocale('id', {\n        months: 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split(\n            '_'\n        ),\n        monthsShort: 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des'.split('_'),\n        weekdays: 'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),\n        weekdaysShort: 'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),\n        weekdaysMin: 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),\n        longDateFormat: {\n            LT: 'HH.mm',\n            LTS: 'HH.mm.ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY [pukul] HH.mm',\n            LLLL: 'dddd, D MMMM YYYY [pukul] HH.mm',\n        },\n        meridiemParse: /pagi|siang|sore|malam/,\n        meridiemHour: function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'pagi') {\n                return hour;\n            } else if (meridiem === 'siang') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'sore' || meridiem === 'malam') {\n                return hour + 12;\n            }\n        },\n        meridiem: function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'pagi';\n            } else if (hours < 15) {\n                return 'siang';\n            } else if (hours < 19) {\n                return 'sore';\n            } else {\n                return 'malam';\n            }\n        },\n        calendar: {\n            sameDay: '[Hari ini pukul] LT',\n            nextDay: '[Besok pukul] LT',\n            nextWeek: 'dddd [pukul] LT',\n            lastDay: '[Kemarin pukul] LT',\n            lastWeek: 'dddd [lalu pukul] LT',\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: 'dalam %s',\n            past: '%s yang lalu',\n            s: 'beberapa detik',\n            ss: '%d detik',\n            m: 'semenit',\n            mm: '%d menit',\n            h: 'sejam',\n            hh: '%d jam',\n            d: 'sehari',\n            dd: '%d hari',\n            M: 'sebulan',\n            MM: '%d bulan',\n            y: 'setahun',\n            yy: '%d tahun',\n        },\n        week: {\n            dow: 0, // Sunday is the first day of the week.\n            doy: 6, // The week that contains Jan 6th is the first week of the year.\n        },\n    });\n\n    return id;\n\n})));\n","import React, { Component } from \"react\";\r\nimport {\r\n  CBadge,\r\n  CCard,\r\n  CCardBody,\r\n  CRow,\r\n  CCol,\r\n  CButton,\r\n  CDataTable,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalFooter,\r\n  CModalTitle,\r\n  CModalBody,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport moment from \"moment\";\r\nimport DatetimeRangePicker from \"react-datetime-range-picker\";\r\n\r\nconst getBadge = (status) => {\r\n  switch (status) {\r\n    case \"Selesai dimonitor\":\r\n      return \"success\";\r\n    case \"Sedang dimonitor\":\r\n      return \"warning\";\r\n    case \"Gagal dimonitor\":\r\n      return \"danger\";\r\n    default:\r\n      return \"primary\";\r\n  }\r\n};\r\n\r\nconst idLocale = require(\"moment/locale/id\");\r\n\r\nexport default class UserManagementAll extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      userList: [],\r\n      tableList: [],\r\n      allPatient: [],\r\n      page: 1,\r\n      addEmail: \"\",\r\n      totalPage: 1,\r\n      startDate: \"\",\r\n      endDate: \"\",\r\n      headerSymptom: \"Tanggal Update Gejala\",\r\n      symptomLabel: {\r\n        demam: \"\",\r\n      },\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getDataUsers();\r\n  }\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n\r\n  getDataUsers() {\r\n    fetch(`https://auth.aktiv.co.id/api/auth/v1/user/list`, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"====== Get User List Response =======\");\r\n        console.log(data);\r\n        var userList = data.data.items.map((item)=>{\r\n            return {\r\n                ...item,\r\n                fullName:item.profile.first_name,\r\n                puskesmas:item.profile.puskesmas,\r\n                noHp:item.profile.noHp,\r\n            }\r\n        });\r\n        this.setState({\r\n          userList: userList,\r\n          totalPage: data.data.total_page,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  deleteUser = (id) => {\r\n    var body = { id: id };\r\n    fetch(`https://auth.aktiv.co.id/api/auth/v1/user/delete`, {\r\n      method: \"DELETE\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"====== Delete User Response =======\");\r\n        console.log(data);\r\n        if (data.hasOwnProperty(\"status\")) {\r\n          if (data.status === \"OK\") {\r\n            toast.success(\"Delete Berhasil\", {\r\n              position: \"top-right\",\r\n              autoClose: 1000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n            this.getDataUsers();\r\n          } else {\r\n            toast.error(\"Delete Gagal \" + data.statusmsg, {\r\n              position: \"top-right\",\r\n              autoClose: 5000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CCard>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardBody>\r\n                  <CDataTable\r\n                    items={this.state.userList}\r\n                    fields={[\r\n                        { key: \"username\", label: \"Username\" },\r\n                        { key: \"fullName\", label: \"Nama\" },\r\n                        { key: \"puskesmas\", label: \"Puskesmas\" },\r\n                        { key: \"noHp\", label: \"Nomor HP\" },\r\n                        { key: \"role\", label: \"Role\" },\r\n                      \r\n                      \"action\",\r\n                    ]}\r\n                    itemsPerPage={50}\r\n                    activePage={this.state.page}\r\n                    tableFilter\r\n                    sorter\r\n                    pagination\r\n                    scopedSlots={{\r\n                      username: (item) => (\r\n                        <td>\r\n                           <Link\r\n                                  to={`/users-management/detail/${item.id}`}\r\n                                >\r\n                                  {item.username}\r\n                                </Link>\r\n                        </td>\r\n                      ),\r\n                      action: (item) => (\r\n                        <td>\r\n                          <CButton\r\n                            color=\"danger\"\r\n                            size=\"sm\"\r\n                            onClick={() => {\r\n                              if (\r\n                                window.confirm(\r\n                                  \"Apakah anda yakin ingin menghapus data ini?\"\r\n                                )\r\n                              ) {\r\n                                this.deleteUser(item.id);\r\n                              }\r\n                            }}\r\n                          >\r\n                            <CIcon name=\"cil-trash\" />\r\n                          </CButton>\r\n                        </td>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n        </CCard>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}