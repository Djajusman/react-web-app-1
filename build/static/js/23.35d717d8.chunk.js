(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[23],{686:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var s=a(657),n=a(163),c=a(159),r=a(160),i=a(162),l=a(161),j=a(1),o=a(627),d=a(876),b=a(628),h=(a(682),a(632)),x=a.n(h),u=a(8),g=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleInputChange=function(t){var a=t.target.id;e.setState(Object(n.a)({},a,t.target.value))},e.handleDateChange=function(t){e.setState({startDate:x()(t.start).format("YYYY-MM-DDT00:00:00.000Z"),endDate:x()(t.end).format("YYYY-MM-DDT23:59:59.000Z")})},e.handlePuskesmasChange=function(t){var a=t.target.id;e.setState(Object(n.a)({},a,t.target.value)),""==t.target.value?e.getAllPatient(t.target.value,e.state.aktivuser):e.getAllPatient(t.target.value,""),e.getListUser(t.target.value)},e.handleAktivChange=function(t){var a=t.target.id;e.setState(Object(n.a)({},a,t.target.value)),e.getAllPatient(e.state.namaPuskesmas,t.target.value)},e.dasboardList=function(){fetch("https://api.aktiv.co.id/api/aktivengine/v2/dashboard/get",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){var a=[{backgroundColor:["#3699FF","#F6BF29","#E54F5B","#66B983"],data:t.data.filterUsia}],n=[{backgroundColor:["#3699FF","#F6BF29","#E54F5B","#E5E5E5","#C7B9FF"],data:t.data.filterStatusMonitoring}],c=[{backgroundColor:["#3699FF","#E46651"],data:t.data.filterJenisKelamin}],r=[{backgroundColor:["#3699FF","#E54F5B","#F6BF29","#E5E5E5","#025B95"],data:t.data.filterDiagnosa}],i=[{backgroundColor:["#3699FF","#F6BF29"],data:t.data.filterJenisPengguna}],l=[];Object.entries(t.data.filterLokasiPasien).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];""!=a&&l.push({kelurahan:a,counting:n})})),e.setState({dashboardList:t.data,usiaDataSets:a,statusMonitoringDataSets:n,genderDataSets:c,diagnosaDataSets:r,jenisPenggunaDataSets:i,lokasiPasien:l})})).catch((function(e){return alert(e)}))},e.downloadExcel=function(){var e;e="admin"==localStorage.getItem("role")?"https://report.aktiv.co.id/api/report-dashboard":"https://report.aktiv.co.id/api/report-dashboard/".concat(localStorage.getItem("puskesmasId")),fetch(e,{method:"GET",headers:new Headers({"Content-Type":"application/vnd.ms-excel;charset=UTF-8",responseType:"blob",Authorization:"".concat(localStorage.getItem("token"))})}).then((function(e){return e.json()})).then((function(e){console.log("Get Download Response =>",e);var t=document.createElement("a");t.download="Reportnya",t.href=e.fileUrl,document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((function(e){alert(e)}))},e.state={dashboardList:[],diagnosaDataSets:[],genderDataSets:[],usiaDataSets:[],statusMonitoringDataSets:[],jenisPenggunaDataSets:[],lokasiPasien:[],namaPuskesmas:"",aktivuser:"",totalPengguna:0,pasienProkes:0,pasienSelesaiDimonitor:0,jumlahVolunteer:0,startDate:"",endDate:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.dasboardList()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{sm:"12",children:Object(u.jsx)(o.v,{children:Object(u.jsxs)(o.e,{className:"btn-outline-success float-right my-2 mr-3",onClick:function(){e.downloadExcel()},children:[Object(u.jsx)(b.a,{name:"cilDataTransferDown",className:"mr-2"}),Object(u.jsx)("span",{children:"Unduh Excel"})]})})})}),Object(u.jsxs)(o.i,{className:"mb-12",children:[Object(u.jsxs)(o.f,{className:"mr-3 py-3 d-flex align-items-center justify-content-center",children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center",children:Object(u.jsx)(o.z,{src:"logo/medical-mask.svg",height:"45"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:"Total Pengguna"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:this.state.dashboardList.totalPengguna})})})]}),Object(u.jsxs)(o.f,{className:"mr-3 py-3 d-flex align-items-center justify-content-center",children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center",children:Object(u.jsx)(o.z,{src:"logo/medical-mask.svg",height:"45"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:"Pengguna Baru Hari Ini"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:this.state.dashboardList.totalPengguna})})})]}),Object(u.jsxs)(o.f,{className:"mr-3 py-3 d-flex align-items-center justify-content-center",children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center",children:Object(u.jsx)(o.z,{src:"logo/heart.svg",height:"45"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:"Pasien yang Memenuhi Prokes"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:this.state.dashboardList.pasienProkes})})})]}),Object(u.jsxs)(o.f,{className:"mr-3 py-3 d-flex align-items-center justify-content-center",children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)(o.z,{src:"logo/nurse.svg",height:"45"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:"Jumlah Volunteer"})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{className:"d-flex justify-content-center text-center",children:Object(u.jsx)("span",{children:this.state.dashboardList.jumlahVolunteer})})})]})]}),Object(u.jsxs)(o.R,{className:"my-3",children:[Object(u.jsxs)(o.k,{md:"2",children:[Object(u.jsx)(o.I,{htmlFor:"date-input",children:"Filter Tanggal"}),Object(u.jsx)(o.A,{placeholder:"Tanggal Awal",type:"date"})]}),Object(u.jsx)("span",{className:"mt-4",children:Object(u.jsx)("span",{className:"mb-5",children:Object(u.jsx)("strong",{children:Object(u.jsx)("p",{className:"mt-3",children:"="})})})}),Object(u.jsxs)(o.k,{md:"2",children:[Object(u.jsx)(o.I,{}),Object(u.jsx)(o.A,{placeholder:"Tanggal Akhir",type:"date",className:"mt-2"})]}),Object(u.jsxs)(o.k,{md:"2",className:"mt-1",children:[Object(u.jsx)(o.I,{}),Object(u.jsx)(o.e,{color:"outline-info",className:"mt-4 mr-2",size:"m",onClick:function(){e.getAllPatient(localStorage.getItem("puskesmasId"),"")},children:"Reset"}),Object(u.jsx)(o.e,{color:"info",className:"mt-4",size:"m",onClick:function(){e.filterDate()},children:"Cari"})]}),Object(u.jsx)(o.k,{md:"6"})]}),Object(u.jsxs)(o.R,{children:[Object(u.jsx)(o.k,{md:"4",children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{className:"text-center",children:Object(u.jsx)("strong",{children:"Usia"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.b,{datasets:this.state.usiaDataSets,labels:["<18","18-35","35-60",">60"],options:{tooltips:{enabled:!0}}})})]})}),Object(u.jsx)(o.k,{md:"4",children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{className:"text-center",children:Object(u.jsx)("strong",{children:"Jenis Kelamin"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.b,{datasets:this.state.genderDataSets,labels:["Laki Laki","Perempuan"],options:{tooltips:{enabled:!0}}})})]})}),Object(u.jsx)(o.k,{md:"4",children:"volunteer"!=localStorage.getItem("role")&&Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{className:"text-center",children:Object(u.jsx)("strong",{children:"Jenis Pengguna"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.b,{datasets:this.state.jenisPenggunaDataSets,labels:["Aktiv User","Regular User"],options:{tooltips:{enabled:!0}}})})]})})]}),Object(u.jsxs)(o.R,{children:[Object(u.jsx)(o.k,{md:"6",children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{className:"text-center",children:Object(u.jsx)("strong",{children:"Status Monitor"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.b,{datasets:this.state.statusMonitoringDataSets,labels:["Selesai dimonitor","Sedang dimonitor","Gagal dimonitor","Rujuk RS","Rujuk Shelter"],options:{tooltips:{enabled:!0}}})})]})}),Object(u.jsx)(o.k,{md:"6",children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{className:"text-center",children:Object(u.jsx)("strong",{children:"Diagnosa Pasien"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.b,{datasets:this.state.diagnosaDataSets,labels:["Suspek","Konfirmasi","Kontak Erat","Probable","Sehat"],options:{tooltips:{enabled:!0}}})})]})})]}),Object(u.jsxs)(o.i,{columns:!0,className:"cols-2",children:[Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{children:Object(u.jsx)("strong",{children:"Penyakit Penyerta"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.a,{datasets:[{label:"Penyakit Penyerta",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:this.state.dashboardList.filterPenyakitPenyerta}],options:{tooltips:{enabled:!1}},labels:["Tidak Ada","Hamil","DM","Jantung","HT","keganasan","Autoimun","Ginjal Kronis","Hati Kronis","Asma","PPOK"]})})]})})}),Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.j,{children:Object(u.jsx)("strong",{children:"Gejala"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(d.a,{datasets:[{label:"Gejala",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:this.state.dashboardList.filterGejalaHarian}],options:{tooltips:{enabled:!1}},labels:["Demam","Demam 14 Hari Sebelumnya","Batuk","Kelelahan","Sakit Kepala","Nyeri Otot","Nyeri Tenggorokan","Pilek","Tidak Nafsu Makan","Diare","Anosmia","Ageusia","Sesak Nafas","Nyeri Dada","Wajah Membiru","Sulit Bangun"]})})]})})})]}),Object(u.jsx)(o.i,{children:Object(u.jsx)(o.f,{children:Object(u.jsx)(o.R,{children:Object(u.jsx)(o.k,{children:Object(u.jsxs)(o.v,{children:[Object(u.jsx)(o.j,{children:Object(u.jsx)("strong",{children:"Lokasi Kelurahan Pasien"})}),Object(u.jsx)(o.g,{children:Object(u.jsx)(o.n,{pagination:!0,itemsPerPage:5,items:this.state.lokasiPasien,fields:[{key:"no"},{key:"kelurahan",label:"Nama Kelurahan"},{key:"counting",label:"Jumlah Pasien"}],scopedSlots:{no:function(e,t){return Object(u.jsx)("td",{children:t+1})}}})})]})})})})})]})}}]),a}(j.Component)}}]);
//# sourceMappingURL=23.35d717d8.chunk.js.map