{"version":3,"sources":["../node_modules/moment/locale/id.js","views/users_management/users.jsx"],"names":["moment","defineLocale","months","split","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","meridiemParse","meridiemHour","hour","meridiem","hours","minutes","isLower","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","M","MM","y","yy","week","dow","doy","factory","require","UserManagement","handleInputChange","event","k","target","id","setState","value","deletePatient","body","fetch","method","headers","Headers","Authorization","localStorage","getItem","JSON","stringify","then","response","json","data","console","log","hasOwnProperty","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getDataPatients","error","statusmsg","catch","alert","toggleStateTambahPasien","setStateTambahPasien","state","stateTambahPasien","page","addEmail","totalPage","bind","this","allPatient","items","total_page","className","show","onClose","size","closeButton","htmlFor","placeholder","onChange","onClick","checkNumber","fields","key","label","itemsPerPage","activePage","tableFilter","sorter","pagination","scopedSlots","members","item","map","member","to","akunID","memberID","fullName","username","isAktivUser","name","action","color","window","confirm","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/22.6fc1dc38.chunk.js","sourcesContent":["//! moment.js locale configuration\n//! locale : Indonesian [id]\n//! author : Mohammad Satrio Utomo : https://github.com/tyok\n//! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var id = moment.defineLocale('id', {\n        months: 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split(\n            '_'\n        ),\n        monthsShort: 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des'.split('_'),\n        weekdays: 'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),\n        weekdaysShort: 'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),\n        weekdaysMin: 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),\n        longDateFormat: {\n            LT: 'HH.mm',\n            LTS: 'HH.mm.ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY [pukul] HH.mm',\n            LLLL: 'dddd, D MMMM YYYY [pukul] HH.mm',\n        },\n        meridiemParse: /pagi|siang|sore|malam/,\n        meridiemHour: function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'pagi') {\n                return hour;\n            } else if (meridiem === 'siang') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'sore' || meridiem === 'malam') {\n                return hour + 12;\n            }\n        },\n        meridiem: function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'pagi';\n            } else if (hours < 15) {\n                return 'siang';\n            } else if (hours < 19) {\n                return 'sore';\n            } else {\n                return 'malam';\n            }\n        },\n        calendar: {\n            sameDay: '[Hari ini pukul] LT',\n            nextDay: '[Besok pukul] LT',\n            nextWeek: 'dddd [pukul] LT',\n            lastDay: '[Kemarin pukul] LT',\n            lastWeek: 'dddd [lalu pukul] LT',\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: 'dalam %s',\n            past: '%s yang lalu',\n            s: 'beberapa detik',\n            ss: '%d detik',\n            m: 'semenit',\n            mm: '%d menit',\n            h: 'sejam',\n            hh: '%d jam',\n            d: 'sehari',\n            dd: '%d hari',\n            M: 'sebulan',\n            MM: '%d bulan',\n            y: 'setahun',\n            yy: '%d tahun',\n        },\n        week: {\n            dow: 0, // Sunday is the first day of the week.\n            doy: 6, // The week that contains Jan 6th is the first week of the year.\n        },\n    });\n\n    return id;\n\n})));\n","import React, { Component } from \"react\";\r\nimport {\r\n  CBadge,\r\n  CCard,\r\n  CCardBody,\r\n  CRow,\r\n  CCol,\r\n  CButton,\r\n  CDataTable,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalFooter,\r\n  CModalTitle,\r\n  CModalBody,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport moment from \"moment\";\r\nimport DatetimeRangePicker from \"react-datetime-range-picker\";\r\n\r\nconst getBadge = (status) => {\r\n  switch (status) {\r\n    case \"Selesai dimonitor\":\r\n      return \"success\";\r\n    case \"Sedang dimonitor\":\r\n      return \"warning\";\r\n    case \"Gagal dimonitor\":\r\n      return \"danger\";\r\n    default:\r\n      return \"primary\";\r\n  }\r\n};\r\n\r\nconst idLocale = require(\"moment/locale/id\");\r\n\r\nexport default class UserManagement extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      page: 1,\r\n      addEmail: \"\",\r\n      totalPage: 1,\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getDataPatients();\r\n  }\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n\r\n  getDataPatients() {\r\n    fetch(`https://api.aktiv.co.id/api/aktivengine/v1/patient/list`, {\r\n      method: \"GET\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"====== Get Patient List Response =======\");\r\n        console.log(data);\r\n        this.setState({\r\n          allPatient: data.data.items,\r\n          totalPage: data.data.total_page,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  deletePatient = (id) => {\r\n    var body = { id: id };\r\n    fetch(`https://api.aktiv.co.id/api/aktivengine/v1/patient/delete`, {\r\n      method: \"DELETE\",\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `${localStorage.getItem(\"token\")}`,\r\n      }),\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"====== Delete Patient Response =======\");\r\n        console.log(data);\r\n        if (data.hasOwnProperty(\"status\")) {\r\n          if (data.status === \"OK\") {\r\n            toast.success(\"Delete Berhasil\", {\r\n              position: \"top-right\",\r\n              autoClose: 1000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n            this.getDataPatients();\r\n          } else {\r\n            toast.error(\"Delete Gagal \" + data.statusmsg, {\r\n              position: \"top-right\",\r\n              autoClose: 5000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  toggleStateTambahPasien = () => {\r\n    this.setStateTambahPasien(!this.state.stateTambahPasien);\r\n  };\r\n  setStateTambahPasien(stateTambahPasien) {\r\n    this.setState({\r\n      stateTambahPasien: stateTambahPasien,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CModal\r\n          show={this.state.stateTambahPasien}\r\n          onClose={this.toggleStateTambahPasien}\r\n          size=\"sm\"\r\n        >\r\n          <CModalHeader closeButton>\r\n            <CModalTitle>Tambah Pasien</CModalTitle>\r\n          </CModalHeader>\r\n          <CModalBody>\r\n            {/* <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"email\">Email</CLabel>\r\n                  <CInput\r\n                    id=\"addEmail\"\r\n                    placeholder=\"Masukkan Email Pasien\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow> */}\r\n            <CRow>\r\n              <CCol className=\"my-1\">\r\n                <CFormGroup>\r\n                  <CLabel htmlFor=\"mobilePhone\">No Hp</CLabel>\r\n                  <CInput\r\n                    id=\"mobilePhone\"\r\n                    placeholder=\"Masukkan No. Hp Pasien\"\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n          </CModalBody>\r\n          <CModalFooter>\r\n            <CButton\r\n              className=\"btn-facebook btn-brand mt-4 mr-2\"\r\n              onClick={() => {\r\n                this.checkNumber();\r\n              }}\r\n            >\r\n              <span>Tambah</span>\r\n            </CButton>\r\n          </CModalFooter>\r\n        </CModal>\r\n        <CCard>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardBody>\r\n                  <CDataTable\r\n                    items={this.state.allPatient}\r\n                    fields={[\r\n                      \"username\",\r\n                      \"members\",\r\n                      { key: \"leaderName\", label: \"Nama Kepala Keluarga\" },\r\n                      { key: \"akunNoHp\", label: \"No HP yang terdaftar\" },\r\n                      \"volunteer\",\r\n                      \"isAktivUser\",\r\n                      \"action\",\r\n                    ]}\r\n                    itemsPerPage={50}\r\n                    activePage={this.state.page}\r\n                    tableFilter\r\n                    sorter\r\n                    pagination\r\n                    scopedSlots={{\r\n                      members: (item) => (\r\n                        <td>\r\n                          {item.members.map((member) => {\r\n                            return (\r\n                              <p>\r\n                                <Link\r\n                                  to={`/users-management/detail/${item.akunID}/${member.memberID}`}\r\n                                >\r\n                                  {member.fullName}\r\n                                </Link>\r\n                              </p>\r\n                            );\r\n                          })}\r\n                        </td>\r\n                      ),\r\n                      username: (item) => (\r\n                        <td>\r\n                          <Link\r\n                                  to={`/users-management/detail/${item.akunID}`}\r\n                                >\r\n                                  {item.username}\r\n                                </Link>\r\n                        </td>\r\n                      ),\r\n                      isAktivUser: (item) => (\r\n                        <td>\r\n                          {item.isAktivUser && <CIcon name=\"cil-check\" />}\r\n                        </td>\r\n                      ),\r\n                      action: (item) => (\r\n                        <td>\r\n                          <CButton\r\n                            color=\"danger\"\r\n                            size=\"sm\"\r\n                            onClick={() => {\r\n                              if (\r\n                                window.confirm(\r\n                                  \"Apakah anda yakin ingin menghapus data ini?\"\r\n                                )\r\n                              ) {\r\n                                this.deletePatient(item.id);\r\n                              }\r\n                            }}\r\n                          >\r\n                            <CIcon name=\"cil-trash\" />\r\n                          </CButton>\r\n                        </td>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n        </CCard>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}