{"version":3,"sources":["views/pengaturan_umum/tambah_guidance.js"],"names":["styles","border","height","color","padding","TambahGuidance","onEditorStateChange","editorState","setState","console","log","handleInputChange","event","k","target","id","value","handleAddartikel","tampungHeader","convertToRaw","state","getCurrentContent","blocks","forEach","element","text","body","judul","title","description","convertToHTML","fetch","method","JSON","stringify","headers","Headers","Authorization","localStorage","getItem","then","response","json","data","status","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","props","history","goBack","error","statusmsg","catch","kategorilist","page","listkategori","items","i","subCategory","j","push","name","onSelect","selectedList","selectedItem","onRemove","removedItem","EditorState","createEmpty","header","error_login","error_message","is_logged_in","alert_login","this","reader","FileReader","onload","e","imageartikel","result","readAsDataURL","className","htmlFor","placeholder","onChange","bind","style","toolbarClassName","wrapperClassName","editorClassName","onClick","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/36.3185c9e2.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { FileDrop } from \"react-file-drop\";\r\nimport { convertToRaw, EditorState } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CImg,\r\n  CCol,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CRow,\r\n  CButton,\r\n \r\n} from \"@coreui/react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { convertToHTML, convertFromHTML } from \"draft-convert\";\r\nimport { Multiselect } from \"multiselect-react-dropdown\";\r\n\r\nconst styles = {\r\n  border: \"1px solid black\",\r\n  height: \"100%\",\r\n  color: \"black\",\r\n  padding: 20,\r\n};\r\nconst styles1 = { border: \"1px solid black\", color: \"black\", padding: 20 };\r\nexport default class TambahGuidance extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),  \r\n      header: \"\",   \r\n      error_login: false,\r\n      error_message: \"\",\r\n      is_logged_in: false,\r\n      alert_login: false,\r\n      title: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.kategorilist();\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n    console.log(editorState);\r\n  };\r\n\r\n  convertToBase64(data) {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      this.setState({\r\n        imageartikel: e.target.result,\r\n      });\r\n    };\r\n    reader.readAsDataURL(data);\r\n  }\r\n\r\n  handleInputChange = (event) => {\r\n    var k = event.target.id;\r\n    this.setState({\r\n      [k]: event.target.value,\r\n    });\r\n  };\r\n  handleAddartikel = () => {\r\n    var tampungHeader = convertToRaw(\r\n      this.state.editorState.getCurrentContent()\r\n    );\r\n    var header = \"\";\r\n    tampungHeader.blocks.forEach((element) => {\r\n      header += `${element.text} `;\r\n    });\r\n\r\n    var body = {\r\n      judul: this.state.title,      \r\n      description: convertToHTML(this.state.editorState.getCurrentContent()),          \r\n    };\r\n    console.log(body);\r\n    fetch(\"https://api.aktiv.co.id/api/aktivengine/v1/setting/guidance/add\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.status == \"OK\") {\r\n          toast.success(\"Tambah Artikel Berhasil\", {\r\n            position: \"top-right\",\r\n            autoClose: 1000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n          this.props.history.goBack();\r\n        } else {\r\n          toast.error(\"Tambah Artikel Gagal \" + data.statusmsg, {\r\n            position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\"Tambah Artikel Gagal: \" + error, {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        console.log(error)\r\n      });\r\n  };\r\n  kategorilist = (page) => {\r\n    fetch(\r\n      \"https://api.aktiv.co.id/api/aktivengine/v1/article/category/list\",\r\n      {\r\n        method: \"GET\",\r\n        headers: new Headers({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: localStorage.getItem(\"token\"),\r\n        }),\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        var listkategori = [];\r\n        var tambahId = 1;\r\n        data.data.items.forEach((i) => {\r\n          i.subCategory.forEach((j) => {\r\n            listkategori.push({\r\n              name: j,\r\n              id: i.id,\r\n            });\r\n          });\r\n          tambahId++;\r\n        });\r\n        this.setState({ listkategori: listkategori });\r\n        console.log(listkategori);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n  onSelect = (selectedList, selectedItem) => {\r\n    this.setState({\r\n      subCategory: selectedList,\r\n    });\r\n  };\r\n  onRemove = (selectedList, removedItem) => {\r\n    this.setState({\r\n      subCategory: selectedList,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CCard>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardBody>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Judul</CLabel>\r\n                    <CInput\r\n                      id=\"title\"\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                 \r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"street\">Text Editor</CLabel>\r\n                    <div style={styles}>\r\n                      <div className=\"container\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col\">\r\n                            <Editor\r\n                              editorState={this.state.editorState}\r\n                              toolbarClassName=\"toolbarClassName\"\r\n                              wrapperClassName=\"wrapperClassName\"\r\n                              editorClassName=\"editorClassName\"\r\n                              onEditorStateChange={this.onEditorStateChange}\r\n                            // id=\"header\"\r\n                            // onChange={this.handleInputChange.bind(this)}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </CFormGroup>\r\n                  \r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n          <CRow>\r\n            <CCol className=\"d-flex flex-row-reverse\">\r\n              <CButton\r\n                className=\"btn-facebook btn-brand mr-3 mb-3\"\r\n                // onClick={this.handleAddartikel.bind(this)}\r\n                onClick={() => {\r\n                  this.handleAddartikel();\r\n                }}\r\n              >\r\n                <span className=\"mfs-2\">Tayang</span>\r\n              </CButton>\r\n              {/* <CButton className=\"btn-light mr-2 mb-3\">\r\n                <span className=\"mfs-2\">Preview</span>\r\n              </CButton> */}\r\n            </CCol>\r\n          </CRow>\r\n        </CCard>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}