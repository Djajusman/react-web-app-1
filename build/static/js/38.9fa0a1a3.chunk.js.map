{"version":3,"sources":["views/puskesmas/tambah_puskesmas.js"],"names":["TambahPuskesmas","getDetailPuskesmas","fetch","props","match","params","id","method","headers","Headers","Authorization","localStorage","getItem","then","response","json","res","setState","puskesmas","data","alamat","noHp","namaPIC","noHpPIC","catch","error","console","log","state","error_login","error_message","is_logged_in","alert_login","this","event","hasOwnProperty","target","name","value","alert_register","hasChanged","err","push","length","z","toast","body","JSON","stringify","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","history","goBack","statusmsg","className","htmlFor","type","placeholder","onChange","handleInputChange","bind","onClick","addPuskesmas","updatePuskesmas","newestOnTop","rtl","pauseOnFocusLoss","Component"],"mappings":"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","file":"static/js/38.9fa0a1a3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCol,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CRow,\r\n  CButton,\r\n} from \"@coreui/react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default class TambahPuskesmas extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      puskesmas: \"\",\r\n      alamat: \"\",\r\n      noHp: \"\",\r\n      namaPIC: \"\",\r\n      noHpPIC: \"\",\r\n      error_login: false,\r\n      error_message: \"\",\r\n      is_logged_in: false,\r\n      alert_login: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getDetailPuskesmas();\r\n  }\r\n  handleInputChange(event) {\r\n    if (event.hasOwnProperty(\"target\")) {\r\n      this.setState({ [event.target.name]: event.target.value });\r\n      if (this.state.alert_register) {\r\n        this.setState({ hasChanged: true, alert_register: false });\r\n      }\r\n    }\r\n  }\r\n  getDetailPuskesmas = () => {\r\n    fetch(\r\n      `https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/get?id=${this.props.match.params.id}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: new Headers({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: localStorage.getItem(\"token\"),\r\n        }),\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((res) => {\r\n\r\n        this.setState({\r\n          puskesmas: res.data.puskesmas,\r\n          alamat: res.data.alamat,\r\n          noHp: res.data.noHp,\r\n          namaPIC: res.data.namaPIC,\r\n          noHpPIC: res.data.noHpPIC,\r\n        });\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  addPuskesmas(event) {\r\n    // const { history } = this.props;\r\n    // event.preventDefault();\r\n\r\n    let err = [];\r\n    if (this.state.puskesmas == \"\") {\r\n      err.push(\"Silahkan isi Nama Puskesmas!\\n\");\r\n    }\r\n    if (this.state.alamat == \"\") {\r\n      err.push(\"Silahkan isi Alamat Puskesmas!\\n\");\r\n    }\r\n    if (this.state.noHp == \"\") {\r\n      err.push(\"Silahkan isi No Hp!\\n\");\r\n    }\r\n    if (this.state.namaPIC == \"\") {\r\n      err.push(\"Silahkan isi Nama PIC!\\n\");\r\n    }\r\n    if (this.state.noHpPIC == \"\") {\r\n      err.push(\"Silahkan isi No Hp PIC!\\n\");\r\n    }\r\n\r\n    if (err.length > 0) {\r\n      for (var z = 0; z < err.length; z++) {\r\n        toast.error(err[z]);\r\n      }\r\n      return;\r\n    }\r\n\r\n    var body = {\r\n      puskesmas: this.state.puskesmas,\r\n      alamat: this.state.alamat,\r\n      noHp: this.state.noHp,\r\n      namaPIC: this.state.namaPIC,\r\n      noHpPIC: this.state.noHpPIC,\r\n    };\r\n\r\n    fetch(\"https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/add\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.status == \"OK\") {\r\n          toast.success(\"Tambah Puskesmas Berhasil\", {\r\n            position: \"top-right\",\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n          // this.puskesmaslist(this.state.curr_page)\r\n          // window.location.reload(false);\r\n          this.props.history.goBack();\r\n        } else {\r\n          toast.error(\"Tambah Puskesmas Gagal: \" + data.statusmsg, {\r\n            position: \"top-right\",\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  updatePuskesmas() {\r\n    var body = {\r\n      id:this.props.match.params.id,\r\n      puskesmas: this.state.puskesmas,\r\n      alamat: this.state.alamat,\r\n      noHp: this.state.noHp,\r\n      namaPIC: this.state.namaPIC,\r\n      noHpPIC: this.state.noHpPIC,\r\n    };\r\n\r\n    fetch(\"https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/update\", {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(body),\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.status == \"OK\") {\r\n          toast.success(\"Update Puskesmas Berhasil\", {\r\n            position: \"top-right\",\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n          this.props.history.goBack();\r\n        } else {\r\n          toast.error(\"Update Puskesmas Gagal: \" + data.statusmsg, {\r\n            position: \"top-right\",\r\n            autoClose: 3000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <CCard>\r\n          <CRow>\r\n            <CCol>\r\n              <CCard>\r\n                <CCardBody>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Nama Puskesmas</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      id=\"puskesmas\"\r\n                      name=\"puskesmas\"\r\n                      value={this.state.puskesmas}\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Alamat Puskesmas</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      id=\"alamat\"\r\n                      value={this.state.alamat}\r\n                      name=\"alamat\"\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">No Telpon Puskesmas</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      id=\"noHp\"\r\n                      name=\"noHp\"\r\n                      value={this.state.noHp}\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">Nama PIC</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      id=\"namaPIC\"\r\n                      value={this.state.namaPIC}\r\n                      name=\"namaPIC\"\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                  <CFormGroup>\r\n                    <CLabel htmlFor=\"company\">No Telpon PIC</CLabel>\r\n                    <CInput\r\n                      type=\"text\"\r\n                      id=\"noHpPIC\"\r\n                      value={this.state.noHpPIC}\r\n                      name=\"noHpPIC\"\r\n                      placeholder=\"\"\r\n                      onChange={this.handleInputChange.bind(this)}\r\n                    />\r\n                  </CFormGroup>\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n          <CRow>\r\n            <CCol className=\"d-flex flex-row-reverse\">\r\n              <CButton\r\n                className=\"btn-facebook btn-brand mr-3 mb-3\"\r\n                onClick={()=>{\r\n                  if(this.props.match.params.id==\"\" || this.props.match.params.id==undefined){\r\n                    this.addPuskesmas();\r\n                  }else{\r\n                    \r\n                    this.updatePuskesmas();\r\n                  }\r\n                }}\r\n              >\r\n                <span>Simpan</span>\r\n              </CButton>\r\n            </CCol>\r\n          </CRow>\r\n        </CCard>\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}