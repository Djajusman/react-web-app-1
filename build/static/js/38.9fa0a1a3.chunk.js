(this["webpackJsonpaktiv-web"]=this["webpackJsonpaktiv-web"]||[]).push([[38],{705:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var s=a(163),n=a(159),i=a(160),o=a(162),r=a(161),h=a(1),c=a(627),p=a(634),l=(a(633),a(8)),u=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).getDetailPuskesmas=function(){fetch("https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/get?id=".concat(e.props.match.params.id),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){e.setState({puskesmas:t.data.puskesmas,alamat:t.data.alamat,noHp:t.data.noHp,namaPIC:t.data.namaPIC,noHpPIC:t.data.noHpPIC})})).catch((function(e){return console.log(e)}))},e.state={puskesmas:"",alamat:"",noHp:"",namaPIC:"",noHpPIC:"",error_login:!1,error_message:"",is_logged_in:!1,alert_login:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getDetailPuskesmas()}},{key:"handleInputChange",value:function(e){e.hasOwnProperty("target")&&(this.setState(Object(s.a)({},e.target.name,e.target.value)),this.state.alert_register&&this.setState({hasChanged:!0,alert_register:!1}))}},{key:"addPuskesmas",value:function(e){var t=this,a=[];if(""==this.state.puskesmas&&a.push("Silahkan isi Nama Puskesmas!\n"),""==this.state.alamat&&a.push("Silahkan isi Alamat Puskesmas!\n"),""==this.state.noHp&&a.push("Silahkan isi No Hp!\n"),""==this.state.namaPIC&&a.push("Silahkan isi Nama PIC!\n"),""==this.state.noHpPIC&&a.push("Silahkan isi No Hp PIC!\n"),a.length>0)for(var s=0;s<a.length;s++)p.b.error(a[s]);else{var n={puskesmas:this.state.puskesmas,alamat:this.state.alamat,noHp:this.state.noHp,namaPIC:this.state.namaPIC,noHpPIC:this.state.noHpPIC};fetch("https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/add",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(e){"OK"==e.status?(p.b.success("Tambah Puskesmas Berhasil",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.props.history.goBack()):p.b.error("Tambah Puskesmas Gagal: "+e.statusmsg,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){return console.log(e)}))}}},{key:"updatePuskesmas",value:function(){var e=this,t={id:this.props.match.params.id,puskesmas:this.state.puskesmas,alamat:this.state.alamat,noHp:this.state.noHp,namaPIC:this.state.namaPIC,noHpPIC:this.state.noHpPIC};fetch("https://api.aktiv.co.id/api/aktivengine/v1/puskesmas/update",{method:"PUT",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){"OK"==t.status?(p.b.success("Update Puskesmas Berhasil",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.props.history.goBack()):p.b.error("Update Puskesmas Gagal: "+t.statusmsg,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsxs)(c.f,{children:[Object(l.jsx)(c.R,{children:Object(l.jsx)(c.k,{children:Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.g,{children:[Object(l.jsxs)(c.v,{children:[Object(l.jsx)(c.I,{htmlFor:"company",children:"Nama Puskesmas"}),Object(l.jsx)(c.A,{type:"text",id:"puskesmas",name:"puskesmas",value:this.state.puskesmas,placeholder:"",onChange:this.handleInputChange.bind(this)})]}),Object(l.jsxs)(c.v,{children:[Object(l.jsx)(c.I,{htmlFor:"company",children:"Alamat Puskesmas"}),Object(l.jsx)(c.A,{type:"text",id:"alamat",value:this.state.alamat,name:"alamat",placeholder:"",onChange:this.handleInputChange.bind(this)})]}),Object(l.jsxs)(c.v,{children:[Object(l.jsx)(c.I,{htmlFor:"company",children:"No Telpon Puskesmas"}),Object(l.jsx)(c.A,{type:"text",id:"noHp",name:"noHp",value:this.state.noHp,placeholder:"",onChange:this.handleInputChange.bind(this)})]}),Object(l.jsxs)(c.v,{children:[Object(l.jsx)(c.I,{htmlFor:"company",children:"Nama PIC"}),Object(l.jsx)(c.A,{type:"text",id:"namaPIC",value:this.state.namaPIC,name:"namaPIC",placeholder:"",onChange:this.handleInputChange.bind(this)})]}),Object(l.jsxs)(c.v,{children:[Object(l.jsx)(c.I,{htmlFor:"company",children:"No Telpon PIC"}),Object(l.jsx)(c.A,{type:"text",id:"noHpPIC",value:this.state.noHpPIC,name:"noHpPIC",placeholder:"",onChange:this.handleInputChange.bind(this)})]})]})})})}),Object(l.jsx)(c.R,{children:Object(l.jsx)(c.k,{className:"d-flex flex-row-reverse",children:Object(l.jsx)(c.e,{className:"btn-facebook btn-brand mr-3 mb-3",onClick:function(){""==e.props.match.params.id||void 0==e.props.match.params.id?e.addPuskesmas():e.updatePuskesmas()},children:Object(l.jsx)("span",{children:"Simpan"})})})})]}),Object(l.jsx)(p.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),a}(h.Component)}}]);
//# sourceMappingURL=38.9fa0a1a3.chunk.js.map